import{$ as d,N as R,O as S,P as A,e as m,K as k,J as x,b as K}from"./web-BP_Sm2kp.js";const h=Symbol("store-raw"),f=Symbol("store-node"),c=Symbol("store-has"),b=Symbol("store-self");function C(e){let t=e[d];if(!t&&(Object.defineProperty(e,d,{value:t=new Proxy(e,T)}),!Array.isArray(e))){const n=Object.keys(e),s=Object.getOwnPropertyDescriptors(e);for(let o=0,r=n.length;o<r;o++){const i=n[o];s[i].get&&Object.defineProperty(e,i,{enumerable:s[i].enumerable,get:s[i].get.bind(t)})}}return t}function u(e){let t;return e!=null&&typeof e=="object"&&(e[d]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function g(e,t=new Set){let n,s,o,r;if(n=e!=null&&e[h])return n;if(!u(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let i=0,a=e.length;i<a;i++)o=e[i],(s=g(o,t))!==o&&(e[i]=s)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const i=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,L=i.length;l<L;l++)r=i[l],!a[r].get&&(o=e[r],(s=g(o,t))!==o&&(e[r]=s))}return e}function y(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function p(e,t,n){if(e[t])return e[t];const[s,o]=m(n,{equals:!1,internal:!0});return s.$=o,e[t]=s}function N(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===d||t===f||(delete n.value,delete n.writable,n.get=()=>e[d][t]),n}function $(e){A()&&p(y(e,f),b)()}function _(e){return $(e),Reflect.ownKeys(e)}const T={get(e,t,n){if(t===h)return e;if(t===d)return n;if(t===S)return $(e),n;const s=y(e,f),o=s[t];let r=o?o():e[t];if(t===f||t===c||t==="__proto__")return r;if(!o){const i=Object.getOwnPropertyDescriptor(e,t);A()&&(typeof r!="function"||e.hasOwnProperty(t))&&!(i&&i.get)&&(r=p(s,t,r)())}return u(r)?C(r):r},has(e,t){return t===h||t===d||t===S||t===f||t===c||t==="__proto__"?!0:(A()&&p(y(e,c),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:_,getOwnPropertyDescriptor:N};function O(e,t,n,s=!1){if(!s&&e[t]===n)return;const o=e[t],r=e.length;n===void 0?(delete e[t],e[c]&&e[c][t]&&o!==void 0&&e[c][t].$()):(e[t]=n,e[c]&&e[c][t]&&o===void 0&&e[c][t].$());let i=y(e,f),a;if((a=p(i,t,o))&&a.$(()=>n),Array.isArray(e)&&e.length!==r){for(let l=e.length;l<r;l++)(a=i[l])&&a.$();(a=p(i,"length",r))&&a.$(e.length)}(a=i[b])&&a.$()}function v(e,t){const n=Object.keys(t);for(let s=0;s<n.length;s+=1){const o=n[s];O(e,o,t[o])}}function H(e,t){if(typeof t=="function"&&(t=t(e)),t=g(t),Array.isArray(t)){if(e===t)return;let n=0,s=t.length;for(;n<s;n++){const o=t[n];e[n]!==o&&O(e,n,o)}O(e,"length",s)}else v(e,t)}function w(e,t,n=[]){let s,o=e;if(t.length>1){s=t.shift();const i=typeof s,a=Array.isArray(e);if(Array.isArray(s)){for(let l=0;l<s.length;l++)w(e,[s[l]].concat(t),n);return}else if(a&&i==="function"){for(let l=0;l<e.length;l++)s(e[l],l)&&w(e,[l].concat(t),n);return}else if(a&&i==="object"){const{from:l=0,to:L=e.length-1,by:D=1}=s;for(let P=l;P<=L;P+=D)w(e,[P].concat(t),n);return}else if(t.length>1){w(e[s],t,[s].concat(n));return}o=e[s],n=[s].concat(n)}let r=t[0];typeof r=="function"&&(r=r(o,n),r===o)||s===void 0&&r==null||(r=g(r),s===void 0||u(o)&&u(r)&&!Array.isArray(r)?v(o,r):O(e,s,r))}function E(...[e,t]){const n=g(e||{}),s=Array.isArray(n),o=C(n);function r(...i){R(()=>{s&&i.length===1?H(n,i[0]):w(n,i)})}return[o,r]}const M=new WeakMap,I={get(e,t){if(t===h)return e;const n=e[t];let s;return u(n)?M.get(n)||(M.set(n,s=new Proxy(n,I)),s):n},set(e,t,n){return O(e,t,g(n)),!0},deleteProperty(e,t){return O(e,t,void 0,!0),!0}};function F(e){return t=>{if(u(t)){let n;(n=M.get(t))||M.set(t,n=new Proxy(t,I)),e(n)}return t}}const j=x(),W=e=>{const[t,n]=E({locationsId:void 0,mapParameter:"all",listsId:void 0,listLocationsId:void 0,newListModalOpen:!1,deleteListModalOpen:!1,deleteLocationModalOpen:!1,deleteListLocationModalOpen:!1,editListModalOpen:!1,showProvidersCard:!1,viewport:{zoom:1.2,center:[40,20]},showOnlyActiveLocations:!0,showAirSensors:!0,showMonitors:!0,totalProviders:0,providers:[],recentMeasurements:[],toastOpen:!1,apiKeyRegenerateModalOpen:!1,listParametersId:void 0,bounds:[],mapBbox:[],showNotificationCard:!1,showHelpCard:!1,helpContent:""}),s=[t,{setSelectedLocationsId(o){n({locationsId:o})},setBounds(o){n({bounds:o})},setMapBbox(o){n({mapBbox:o})},clearLocationsId(){n({locationsId:void 0})},setSelectedMapParameter(o){n({mapParameter:o})},setDeleteListsId(o){n({listsId:o})},clearDeleteListsId(){n({listsId:void 0})},toggleDeleteListModalOpen(){n({deleteListModalOpen:!t.deleteListModalOpen})},toggleNewListModalOpen(){n({newListModalOpen:!t.newListModalOpen})},toggleEditListModalOpen(){n({editListModalOpen:!t.editListModalOpen})},toggleShowProvidersCard(){n({showProvidersCard:!t.showProvidersCard})},setViewport(o){n({viewport:o})},toggleMonitor(){n({showMonitors:!t.showMonitors})},toggleAirSensor(){n({showAirSensors:!t.showAirSensors})},toggleMapIsActive(){n({showOnlyActiveLocations:!t.showOnlyActiveLocations})},setProviders(o){n({providers:o})},setTotalProviders(o){n({totalProviders:o})},setRecentMeasurements(o){n({recentMeasurements:o})},addRecentMeasurements(o){n("recentMeasurements",r=>[...r,o])},updateRecentMeasurements(o,r){const i=t.recentMeasurements.findIndex(l=>l.parameter==o),a=t.recentMeasurements[i];a.setLoading(!1),a.setSeries(r.series)},openToast(){n({toastOpen:!0}),setTimeout(()=>n({toastOpen:!1}),5e3)},toggleRegenerateKeyModalOpen(){n({apiKeyRegenerateModalOpen:!t.apiKeyRegenerateModalOpen})},toggleDeleteListLocationModalOpen(){n({deleteListLocationModalOpen:!t.deleteListLocationModalOpen})},setDeleteListLocationsId(o){n({listLocationsId:o})},setListParametersId(o){n({listParametersId:o})},setListParameter(o){n({listParameter:o})},toggleShowNotificationCard(o){n({showNotificationCard:o})},toggleShowHelpCard(o){n({showHelpCard:o})},setHelpContent(o){n({helpContent:o})}}];return K(j.Provider,{value:s,get children(){return e.children}})};function z(){const e=k(j);if(!e)throw new Error("useStoreContext: cannot find a StoreContext");return e}function q(){return z()}export{W as S,E as c,F as p,q as u};
