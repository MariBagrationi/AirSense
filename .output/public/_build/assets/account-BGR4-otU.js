import{i as o,t as c,l as s,v as h,w as ae,h as M,e as B,x as W,y as g,z as j,A as z,b as l,B as H,S as A,C as w,r as P}from"./web-BP_Sm2kp.js";import{u as F}from"./index-ByPGQDE4.js";import{d as re,u as ie,c as L,b as Q,e as G}from"./utc-B-W9tmtl.js";/* empty css              */import{C as le}from"./close-BXxffw09.js";/* empty css                */import{g as oe}from"./user-DPU6oxOF.js";import{c as ce}from"./createAsync-CxGUhFbC.js";import"./routing-DE3KDVov.js";var de=c("<div><span class=type-body-3>");function pe(e){const[m]=F();return(()=>{var r=o(de),n=r.firstChild;return s(n,()=>e.message),h(()=>ae(r,`toast ${m.toastOpen?"":"toast--translate"}`)),r})()}re.extend(ie);const ge=L(()=>{},"src_db_account_ts--changePassword_action","C:/Users/MARIAM/Desktop/AirSense/AirSense/src/db/account.ts?tsr-directive-use-server="),q=Q(ge,"change-password-action"),me=L(()=>{},"src_db_account_ts--regenerateKey_action","C:/Users/MARIAM/Desktop/AirSense/AirSense/src/db/account.ts?tsr-directive-use-server="),D=Q(me);var ue=c("<p role=alert id=error-message>"),$e=c('<form class=password-form name=password-form id=password-form method=post><div class=form-element><label for=current-password>Current password</label><input type=password name=current-password id=current-password class=text-input></div><div class=form-element><label for=new-password>New password</label><input type=password name=new-password id=new-password class=text-input></div><div class=form-element><label for=confirm-new-password>Confirm new password</label><input type=password name=confirm-new-password id=confirm-new-password class=text-input></div><div class=form-element><!$><!/><div><button type=submit class="btn btn-primary">Change password');function _e(){const e=G(q),[m,r]=B();return W(()=>{e.pending||m()?.reset()}),(()=>{var n=o($e),i=n.firstChild,v=i.nextSibling,u=v.nextSibling,$=u.nextSibling,_=$.firstChild,[t,b]=g(_.nextSibling),d=t.nextSibling,f=d.firstChild;return j(r,n),z(n,"action",q),s($,l(A,{get when(){return e.result},get children(){var a=o(ue);return H(a,"color","red"),s(a,()=>e.result?.message),a}}),t,b),f.$$click=a=>a.stopImmediatePropagation(),h(()=>w(f,"disabled",e.pending)),P(),n})()}M(["click"]);var be=c("<p role=alert id=error-message>"),fe=c('<dialog class=modal><form name=regenerate-key-form id=regenerate-key-form method=post><header class=modal__header><h2>Regenerate API Key</h2><button id=close class=close-btn aria-label=close formnovalidate></button></header><div class=modal__body>Warning: The current key will stop working when a new key is regenerated</div><footer class=modal__footer><button class="btn btn-secondary"id=cancel aria-label=close formnovalidate autofocus>Cancel</button><!$><!/><input type=hidden name=token><button class="btn btn-primary"type=submit autofocus>Regenerate');function he(e){const m={width:24,height:24,fill:"#FFFFFF"},[r,{toggleRegenerateKeyModalOpen:n}]=F(),i=t=>{n(),t.preventDefault(),t.target.closest("dialog").close()},[v,u]=B();W(()=>{r.apiKeyRegenerateModalOpen&&v()?.showModal()});const $=t=>{t.target.closest("dialog").close(),n()},_=G(D);return(()=>{var t=o(fe),b=t.firstChild,d=b.firstChild,f=d.firstChild,a=f.nextSibling,K=d.nextSibling,x=K.nextSibling,S=x.firstChild,y=S.nextSibling,[C,R]=g(y.nextSibling),k=C.nextSibling,I=k.nextSibling;return j(u,t),z(b,"action",D),a.$$click=i,s(a,l(le,m)),S.$$click=i,s(x,l(A,{get when(){return _.result},get children(){var p=o(be);return H(p,"color","red"),s(p,()=>_.result?.message),p}}),C,R),I.$$click=$,h(()=>w(k,"value",e.token)),P(),t})()}M(["click"]);var ve=c("<span class=inactive-account-warning>ðŸš« API usage for this account has been temporarily suspended due to violation of the platform <a href=https://docs.openaq.org/about/terms>Terms of Use</a>. Please contact <a href=mailto:dev@openaq.org>dev@openaq.org</a>."),ye=c('<button class="btn btn-primary">Regenerate'),we=c('<main class=account-page><!$><!/><h1 class="type-display-1 text-sky-120">OpenAQ Account</h1><section class=account-page__section><h2 class="type-heading-2 text-sky-120">Basics</h2><div class=form-element><label for=name>Name</label><input type=text name=name id=name class=text-input></div><div class=form-element><label for=name>Email</label><input type=email name=email id=email class=text-input></div></section><section class=account-page__section><h2 class="type-heading-2 text-sky-120">Change password</h2><!$><!/></section><section class=account-page__section><h2 class="type-heading-2 text-sky-120">API Key</h2><!$><!/><input class=text-input><div class=api-key-buttons><button class="btn btn-primary">Copy</button><!$><!/></div></section><!$><!/>');function xe(e){navigator.clipboard.writeText(e)}function Se(){return o(ve)}function Ee(){const e=ce(()=>oe(),{deferStream:!0}),[m,{openToast:r,toggleRegenerateKeyModalOpen:n}]=F();return(()=>{var i=o(we),v=i.firstChild,[u,$]=g(v.nextSibling),_=u.nextSibling,t=_.nextSibling,b=t.firstChild,d=b.nextSibling,f=d.firstChild,a=f.nextSibling,K=d.nextSibling,x=K.firstChild,S=x.nextSibling,y=t.nextSibling,C=y.firstChild,R=C.nextSibling,[k,I]=g(R.nextSibling),p=y.nextSibling,J=p.firstChild,V=J.nextSibling,[E,X]=g(V.nextSibling),N=E.nextSibling,O=N.nextSibling,T=O.firstChild,Y=T.nextSibling,[Z,ee]=g(Y.nextSibling),te=p.nextSibling,[ne,se]=g(te.nextSibling);return s(i,l(he,{get token(){return e()?.token}}),u,$),s(y,l(_e,{}),k,I),s(p,l(A,{get when(){return!e()?.isActive},get children(){return l(Se,{})}}),E,X),T.$$click=()=>{xe(e()?.token),r()},s(O,l(A,{get when(){return e()?.isActive},get children(){var U=o(ye);return U.$$click=()=>n(),P(),U}}),Z,ee),s(i,l(pe,{message:"API Key copied to clipboard"}),ne,se),h(()=>w(a,"value",e()?.fullname)),h(()=>w(S,"value",e()?.email)),h(()=>w(N,"value",e()?.token)),P(),i})()}M(["click"]);export{Ee as default};
