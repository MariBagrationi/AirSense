import{e as Lt,x as Vt,i as C,t as E,y as U,B as Z,l as F,b as N,G as K,v as T,A as m,S as J,z as Q,j as Rt,r as Bt}from"./web-BP_Sm2kp.js";import{S as ht,r as Yt,f as Gt,g as Pt,i as jt,h as It,w as Nt,j as _,k as Ot,x as Ut,y as Xt,n as qt,d as bt,t as Wt,l as Zt,m as Jt,b as xt,o as j,p as Kt,q as Qt,v as pt,z as te,A as ee,B as ne,D as ie}from"./index-Bd-QTgoK.js";import{d as R,u as re}from"./utc-B-W9tmtl.js";import{t as ae}from"./index-CVjl_ltI.js";function le(t,e){let o,g;for(const s of t)s!=null&&(o===void 0?s>=s&&(o=g=s):(o>s&&(o=s),g<s&&(g=s)));return[o,g]}function oe(t){return t}var p=1,tt=2,nt=3,X=4,yt=1e-6;function ue(t){return"translate("+t+",0)"}function se(t){return"translate(0,"+t+")"}function ce(t){return e=>+t(e)}function fe(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),o=>+t(o)+e}function ge(){return!this.__axis}function Mt(t,e){var o=[],g=null,s=null,y=6,$=6,x=3,S=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=t===p||t===X?-1:1,D=t===X||t===tt?"x":"y",i=t===p||t===nt?ue:se;function a(l){var L=g??(e.ticks?e.ticks.apply(e,o):e.domain()),d=s??(e.tickFormat?e.tickFormat.apply(e,o):oe),c=Math.max(y,0)+x,f=e.range(),v=+f[0]+S,b=+f[f.length-1]+S,w=(e.bandwidth?fe:ce)(e.copy(),S),V=l.selection?l.selection():l,A=V.selectAll(".domain").data([null]),M=V.selectAll(".tick").data(L,e).order(),B=M.exit(),z=M.enter().append("g").attr("class","tick"),I=M.select("line"),Y=M.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(z),I=I.merge(z.append("line").attr("stroke","currentColor").attr(D+"2",u*y)),Y=Y.merge(z.append("text").attr("fill","currentColor").attr(D,u*c).attr("dy",t===p?"0em":t===nt?"0.71em":"0.32em")),l!==V&&(A=A.transition(l),M=M.transition(l),I=I.transition(l),Y=Y.transition(l),B=B.transition(l).attr("opacity",yt).attr("transform",function(H){return isFinite(H=w(H))?i(H+S):this.getAttribute("transform")}),z.attr("opacity",yt).attr("transform",function(H){var O=this.parentNode.__axis;return i((O&&isFinite(O=O(H))?O:w(H))+S)})),B.remove(),A.attr("d",t===X||t===tt?$?"M"+u*$+","+v+"H"+S+"V"+b+"H"+u*$:"M"+S+","+v+"V"+b:$?"M"+v+","+u*$+"V"+S+"H"+b+"V"+u*$:"M"+v+","+S+"H"+b),M.attr("opacity",1).attr("transform",function(H){return i(w(H)+S)}),I.attr(D+"2",u*y),Y.attr(D,u*c).text(d),V.filter(ge).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===tt?"start":t===X?"end":"middle"),V.each(function(){this.__axis=w})}return a.scale=function(l){return arguments.length?(e=l,a):e},a.ticks=function(){return o=Array.from(arguments),a},a.tickArguments=function(l){return arguments.length?(o=l==null?[]:Array.from(l),a):o.slice()},a.tickValues=function(l){return arguments.length?(g=l==null?null:Array.from(l),a):g&&g.slice()},a.tickFormat=function(l){return arguments.length?(s=l,a):s},a.tickSize=function(l){return arguments.length?(y=$=+l,a):y},a.tickSizeInner=function(l){return arguments.length?(y=+l,a):y},a.tickSizeOuter=function(l){return arguments.length?($=+l,a):$},a.tickPadding=function(l){return arguments.length?(x=+l,a):x},a.offset=function(l){return arguments.length?(S=+l,a):S},a}function de(t){return Mt(nt,t)}function $t(t){return Mt(X,t)}function et(t){return typeof t=="string"?new ht([[document.querySelector(t)]],[document.documentElement]):new ht([[t]],Yt)}function St(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function kt(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function me(t){var e=1,o=t(St(e),kt(e));return o.constant=function(g){return arguments.length?t(St(e=+g),kt(e)):e},It(o)}function zt(){var t=me(Gt());return t.copy=function(){return Pt(t,zt()).constant(t.constant())},jt.apply(t,arguments)}function ve(t,e,o){var g=null,s=_(!0),y=null,$=Ot,x=null,S=Nt(u);t=typeof t=="function"?t:t===void 0?Ut:_(+t),e=typeof e=="function"?e:e===void 0?_(0):_(+e),o=typeof o=="function"?o:o===void 0?Xt:_(+o);function u(i){var a,l,L,d=(i=qt(i)).length,c,f=!1,v,b=new Array(d),w=new Array(d);for(y==null&&(x=$(v=S())),a=0;a<=d;++a){if(!(a<d&&s(c=i[a],a,i))===f)if(f=!f)l=a,x.areaStart(),x.lineStart();else{for(x.lineEnd(),x.lineStart(),L=a-1;L>=l;--L)x.point(b[L],w[L]);x.lineEnd(),x.areaEnd()}f&&(b[a]=+t(c,a,i),w[a]=+e(c,a,i),x.point(g?+g(c,a,i):b[a],o?+o(c,a,i):w[a]))}if(v)return x=null,v+""||null}function D(){return bt().defined(s).curve($).context(y)}return u.x=function(i){return arguments.length?(t=typeof i=="function"?i:_(+i),g=null,u):t},u.x0=function(i){return arguments.length?(t=typeof i=="function"?i:_(+i),u):t},u.x1=function(i){return arguments.length?(g=i==null?null:typeof i=="function"?i:_(+i),u):g},u.y=function(i){return arguments.length?(e=typeof i=="function"?i:_(+i),o=null,u):e},u.y0=function(i){return arguments.length?(e=typeof i=="function"?i:_(+i),u):e},u.y1=function(i){return arguments.length?(o=i==null?null:typeof i=="function"?i:_(+i),u):o},u.lineX0=u.lineY0=function(){return D().x(t).y(e)},u.lineY1=function(){return D().x(t).y(o)},u.lineX1=function(){return D().x(g).y(e)},u.defined=function(i){return arguments.length?(s=typeof i=="function"?i:_(!!i),u):s},u.curve=function(i){return arguments.length?($=i,y!=null&&(x=$(y)),u):$},u.context=function(i){return arguments.length?(i==null?y=x=null:x=$(y=i),u):y},u}var he=E("<svg><line stroke=#6A5CD8 stroke-width=1></svg>",!1,!0,!1),xe=E("<svg><circle class=line-chart-point-highlight r=9></svg>",!1,!0,!1),ye=E("<svg><rect x=0 y=0 rx=5 ry=5 width=40 height=25 fill=#6A5CD8></svg>",!1,!0,!1),$e=E("<svg><text text-anchor=middle>Loading...</svg>",!1,!0,!1),Se=E("<svg><text text-anchor=middle></svg>",!1,!0,!1),ke=E("<svg><text x=0 y=0 font-size=12 fill=white></svg>",!1,!0,!1),we=E("<div><div class=line-chart-tooltip><span class=line-chart-tooltip__value></span> <span class=line-chart-tooltip__unit></span></div><svg><defs><linearGradient id=area-gradient gradientUnits=userSpaceOnUse x1=0% y1=0% x2=0% y2=100%><stop offset=0% stop-color=#d4cdf9 stop-opacity=0.7></stop><stop offset=95% stop-color=white stop-opacity=0.7></stop></linearGradient></defs><filter id=shadow color-interpolation-filters=sRGB><feDropShadow dx=2 dy=2 stdDeviation=0.5 flood-opacity=0.2></feDropShadow></filter><g></g><g class=grid></g><g><!$><!/><!$><!/><!$><!/><!$><!/><!$><!/></g><g class=y-axis></g><g class=x-axis></g><g>"),be=E("<svg><path class=line-chart-area></svg>",!1,!0,!1),Me=E("<svg><path class=line-chart-line></svg>",!1,!0,!1),ze=E("<svg><circle class=line-chart-point></svg>",!1,!0,!1);R.extend(re);R.extend(ae);const Ae=j(".%L"),_e=j(":%S"),Fe=j("%H:%M"),Ce=j("%H:%M"),Ee=j("%b %d"),De=j("%b %d"),He=j("%B"),Te=j("%Y");function Le(t,e){return(Kt(t)<t?Ae:Qt(t)<t?_e:pt(t)<t?Fe:te(t)<t?Ce:ee(t)<t?ne(t)<t?Ee:De:ie(t)<t?He:Te)(new Date(t.toLocaleString("en-US",{timeZone:e})))}function wt(t,e){let o=[],g;return!t||t.length===0?[[]]:(t.filter(s=>s.value!==null).reduce((s,y,$,x)=>{const S=R(y.period.datetimeTo.local,e);return g===void 0||(S-g)/(3600*1e3)===1||(o.push(s),s=[]),s.push(y),$===x.length-1&&s.length>0&&o.push(s),g=S,s},[]),o)}function Pe(t){const[e,o]=Lt({}),g=(d,c,f)=>{const v=Wt().range([0,d]);return v.domain(le([R(c,t.timezone),R(f,t.timezone)])),v},s=(d,c,f)=>{let v;d=="linear"?v=Zt().range([c,0]):v=zt().range([c,0]);const b=f==null?0:Jt(f,A=>A.value),w=b<0?b:0,V=f==null?0:xt(f,()=>xt(f,A=>A.value))*1.2;return v.domain([w,V]),v},y=d=>$t(d).ticks(5),$=(d,c)=>$t(d).tickSize(-c).tickFormat("").ticks(5),x=d=>de(d).ticks(t.xTicks).tickFormat(c=>Le(c,t.timezone)),S=(d,c,f)=>d.map(v=>({value:v.value,cx:c(R(v.period.datetimeTo.local,t.timezone)),cy:f(v.value),unit:v.parameter.units,date:R(v.period.datetimeTo.local,t.timezone)})),u=(d,c)=>bt().x(f=>d(R(f.period.datetimeTo.local,t.timezone))).y(f=>c(f.value)),D=(d,c)=>ve().x(f=>d(R(f.period.datetimeTo.local,t.timezone))).y0(t.height).y1(f=>c(f.value));let i,a,l;function L(){if(t.data){const d=g(t.width,t.dateFrom,t.dateTo),c=s(t.scale,t.height,t.data),f=$(c,t.width);et(a).call(x(d)),et(i).call(y(c)),et(l).call(f)}}return Vt(()=>L()),(()=>{var d=C(we),c=d.firstChild,f=c.firstChild,v=f.nextSibling,b=v.nextSibling,w=c.nextSibling,V=w.firstChild,A=V.nextSibling,M=A.nextSibling,B=M.nextSibling,z=B.nextSibling,I=z.firstChild,[Y,H]=U(I.nextSibling),O=Y.nextSibling,[it,At]=U(O.nextSibling),_t=it.nextSibling,[rt,Ft]=U(_t.nextSibling),Ct=rt.nextSibling,[at,Et]=U(Ct.nextSibling),Dt=at.nextSibling,[Ht,Tt]=U(Dt.nextSibling),q=z.nextSibling,W=q.nextSibling,lt=W.nextSibling;Z(d,"position","relative"),F(f,()=>e()?.value),F(b,()=>e()?.unit),F(M,N(K,{get each(){return wt(t.data,t.timezone)},children:n=>(()=>{var r=C(be);return T(()=>m(r,"d",D(g(t.width,t.dateFrom,t.dateTo),s(t.scale,t.height,t.data))(n))),r})()}));var ot=l;typeof ot=="function"?Q(ot,B):l=B,F(z,N(K,{get each(){return wt(t.data,t.timezone)},children:n=>(()=>{var r=C(Me);return T(()=>m(r,"d",u(g(t.width,t.dateFrom,t.dateTo),s(t.scale,t.height,t.data))(n))),r})()}),Y,H),F(z,N(J,{get when(){return e()?.visible},get children(){return[(()=>{var n=C(he);return T(r=>{var h=e()?.x,k=t.height,G=e()?.x,P=e()?.y;return h!==r.e&&m(n,"x1",r.e=h),k!==r.t&&m(n,"y1",r.t=k),G!==r.a&&m(n,"x2",r.a=G),P!==r.o&&m(n,"y2",r.o=P),r},{e:void 0,t:void 0,a:void 0,o:void 0}),n})(),(()=>{var n=C(xe);return T(r=>{var h=e()?.x,k=e()?.y;return h!==r.e&&m(n,"cx",r.e=h),k!==r.t&&m(n,"cy",r.t=k),r},{e:void 0,t:void 0}),n})(),(()=>{var n=C(ye);return T(()=>m(n,"transform",`translate(${e()?.x-20},${t.height})`)),n})()]}}),it,At),F(z,N(K,{get each(){return S(t.data.filter(n=>n.value!==null)??[],g(t.width,t.dateFrom,t.dateTo),s(t.scale,t.height,t.data))},children:n=>(()=>{var r=C(ze);return r.addEventListener("mouseleave",()=>o({visible:!1})),r.addEventListener("mouseenter",()=>{o({visible:!0,x:n.cx,y:n.cy,value:n.value,unit:n.unit,date:n.date})}),T(h=>{var k=n.cx,G=n.cy,P=n.cx==e()?.x?5:3;return k!==h.e&&m(r,"cx",h.e=k),G!==h.t&&m(r,"cy",h.t=G),P!==h.a&&m(r,"r",h.a=P),h},{e:void 0,t:void 0,a:void 0}),r})()}),rt,Ft),F(z,N(J,{get when(){return t.loading},get children(){var n=C($e);return T(r=>{var h=t.width/2,k=t.height/2;return h!==r.e&&m(n,"x",r.e=h),k!==r.t&&m(n,"y",r.t=k),r},{e:void 0,t:void 0}),n}}),at,Et),F(z,N(J,{get when(){return t.data==null||t.data.length===0&&t.loading===!1},get children(){var n=C(Se);return F(n,()=>t.noDataMessage),T(r=>{var h=t.width/2,k=t.height/2;return h!==r.e&&m(n,"x",r.e=h),k!==r.t&&m(n,"y",r.t=k),r},{e:void 0,t:void 0}),n}}),Ht,Tt);var ut=i;typeof ut=="function"?Q(ut,q):i=q;var st=a;return typeof st=="function"?Q(st,W):a=W,F(lt,N(J,{get when(){return e()?.visible},get children(){var n=C(ke);return F(n,()=>e()?.date.tz(t.timezone).format("HH:mm")),T(()=>m(n,"transform",`translate(${e()?.x-16},${t.height+17})`)),n}})),T(n=>{var r=e()?.visible?"flex":"none",h=`${e()?.x-65}px`,k=`${e()?.y+5}px`,G=`${t.width+t.margin}px`,P=`${t.height+t.margin}px`,ct=`translate(${t.margin/2} ${t.margin/2})`,ft=`translate(${t.margin/2} ${t.margin/2} )`,gt=`translate(${t.margin/2} ${t.margin/2})`,dt=`translate(${t.margin/2} ${t.margin/2})`,mt=`translate(${t.margin/2} ${t.height+t.margin/2})`,vt=`translate(${t.margin/2} ${t.margin/2})`;return r!==n.e&&Z(c,"display",n.e=r),h!==n.t&&Z(c,"left",n.t=h),k!==n.a&&Z(c,"top",n.a=k),G!==n.o&&m(w,"width",n.o=G),P!==n.i&&m(w,"height",n.i=P),ct!==n.n&&m(M,"transform",n.n=ct),ft!==n.s&&m(B,"transform",n.s=ft),gt!==n.h&&m(z,"transform",n.h=gt),dt!==n.r&&m(q,"transform",n.r=dt),mt!==n.d&&m(W,"transform",n.d=mt),vt!==n.l&&m(lt,"transform",n.l=vt),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0}),d})()}var Ve=E('<svg xmlns=http://www.w3.org/2000/svg width=24 height=24 viewBox="0 -960 960 960"><path d="M504-480 320-664l56-56 240 240-240 240-56-56z">');const je=(t={})=>(()=>{var e=C(Ve);return Rt(e,t,!0,!0),Bt(),e})();export{je as C,Pe as L,$t as a,de as b,et as s};
