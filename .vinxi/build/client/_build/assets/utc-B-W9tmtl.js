import{s as fe,e as ge,P as Je,U as Ge,f as Ce,V as ue,g as je,a as Ze,O as Qe}from"./web-BP_Sm2kp.js";import{g as et,i as tt,q as rt,m as nt,r as at}from"./routing-DE3KDVov.js";const st="Location",it=5e3,ut=18e4;let Z=new Map;setInterval(()=>{const e=Date.now();for(let[t,n]of Z.entries())!n[4].count&&e-n[0]>ut&&Z.delete(t)},3e5);function Q(){return Z}function ot(e,t=!0){return ue(()=>{const n=Date.now();ke(e,a=>{t&&(a[0]=0),a[4][1](n)})})}function ke(e,t){e&&!Array.isArray(e)&&(e=[e]);for(let n of Z.keys())(e===void 0||ct(n,e))&&t(Z.get(n))}function ee(e,t){e.GET&&(e=e.GET);const n=(...a)=>{const s=Q(),i=et(),h=rt(),y=je()?tt():void 0,$=Date.now(),R=t+me(a);let p=s.get(R),I;if(Je()&&!Ge&&(I=!0,Ce(()=>p[4].count--)),p&&p[0]&&(i==="native"||p[4].count||Date.now()-p[0]<it)){I&&(p[4].count++,p[4][0]()),p[3]==="preload"&&i!=="preload"&&(p[0]=$);let f=p[1];return i!=="preload"&&(f="then"in p[1]?p[1].then(M(!1),M(!0)):M(!1)(p[1]),i==="navigate"&&ue(()=>p[4][1](p[0]))),h&&"then"in f&&f.catch(()=>{}),f}let O;return fe.has&&fe.has(R)?(O=fe.load(R),delete globalThis._$HY.r[R]):O=e(...a),p?(p[0]=$,p[1]=O,p[3]=i,i==="navigate"&&ue(()=>p[4][1](p[0]))):(s.set(R,p=[$,O,,i,ge($)]),p[4].count=0),I&&(p[4].count++,p[4][0]()),i!=="preload"&&(O="then"in O?O.then(M(!1),M(!0)):M(!1)(O)),h&&"then"in O&&O.catch(()=>{}),O;function M(f){return async S=>{if(S instanceof Response){const _=S.headers.get(st);if(_!==null){y&&_.startsWith("/")?ue(()=>{y(_,{replace:!0})}):window.location.href=_;return}S.customBody&&(S=await S.customBody())}if(f)throw S;return p[2]=S,S}}};return n.keyFor=(...a)=>t+me(a),n.key=t,n}ee.get=e=>Q().get(e)[2];ee.set=(e,t)=>{const n=Q(),a=Date.now();let s=n.get(e);s?(s[0]=a,s[1]=Promise.resolve(t),s[2]=t,s[3]="preload"):(n.set(e,s=[a,Promise.resolve(t),t,"preload",ge(a)]),s[4].count=0)};ee.delete=e=>Q().delete(e);ee.clear=()=>Q().clear();function ct(e,t){for(let n of t)if(n&&e.startsWith(n))return!0;return!1}function me(e){return JSON.stringify(e,(t,n)=>lt(n)?Object.keys(n).sort().reduce((a,s)=>(a[s]=n[s],a),{}):n)}function lt(e){let t;return e!=null&&typeof e=="object"&&(!(t=Object.getPrototypeOf(e))||t===Object.prototype)}const Ee=new Map;function ft(e,t){const n=at(),a=Ze(()=>n.submissions[0]().filter(s=>s.url===e.base&&!0));return new Proxy([],{get(s,i){return i===Qe?a():i==="pending"?a().some(h=>!h.result):a()[i]},has(s,i){return i in a()}})}function Hr(e,t){const n=ft(e);return new Proxy({},{get(a,s){return n.length===0&&s==="clear"||s==="retry"?()=>{}:n[n.length-1]?.[s]}})}function Yr(e,t={}){function n(...i){const h=this.r,o=this.f,y=(h.singleFlight&&e.withOptions?e.withOptions({headers:{"X-Single-Flight":"true"}}):e)(...i),[$,R]=ge();let p;function I(O){return async M=>{const f=await dt(M,O,h.navigatorFactory());let S=null;if(a.onComplete?.({...p,result:f?.data,error:f?.error,pending:!1,retry(){return S=p.retry()}}),S)return S;if(!f)return p.clear();if(R(f),f.error&&!o)throw f.error;return f.data}}return h.submissions[1](O=>[...O,p={input:i,url:s,get result(){return $()?.data},get error(){return $()?.error},get pending(){return!$()},clear(){h.submissions[1](M=>M.filter(f=>f!==p))},retry(){return R(void 0),e(...i).then(I(),I(!0))}}]),y.then(I(),I(!0))}const a=typeof t=="string"?{name:t}:t,s=e.url||a.name&&`https://action/${a.name}`||`https://action/${ht(e.toString())}`;return n.base=s,Le(n,s)}function Le(e,t){return e.toString=()=>{if(!t)throw new Error("Client Actions need explicit names if server rendered");return t},e.with=function(...n){const a=function(...i){return e.call(this,...n,...i)};a.base=e.base;const s=new URL(t,nt);return s.searchParams.set("args",me(n)),Le(a,(s.origin==="https://action"?s.origin:"")+s.pathname+s.search)},e.url=t,Ee.set(t,e),je()&&Ce(()=>Ee.delete(t)),e}const ht=e=>e.split("").reduce((t,n)=>(t<<5)-t+n.charCodeAt(0)|0,0);async function dt(e,t,n){let a,s,i,h;if(e instanceof Response){if(e.headers.has("X-Revalidate")&&(i=e.headers.get("X-Revalidate").split(",")),e.customBody&&(a=s=await e.customBody(),e.headers.has("X-Single-Flight")&&(a=a._$value,delete s._$value,h=Object.keys(s))),e.headers.has("Location")){const o=e.headers.get("Location")||"/";o.startsWith("http")?window.location.href=o:n(o)}}else{if(t)return{error:e};a=e}return ke(i,o=>o[0]=0),h&&h.forEach(o=>ee.set(o,s[o])),await ot(i,!1),a!=null?{data:a}:void 0}var pt=(e=>(e[e.AggregateError=1]="AggregateError",e[e.ArrowFunction=2]="ArrowFunction",e[e.ErrorPrototypeStack=4]="ErrorPrototypeStack",e[e.ObjectAssign=8]="ObjectAssign",e[e.BigIntTypedArray=16]="BigIntTypedArray",e))(pt||{});function yt(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return}}function W(e){let t="",n=0,a;for(let s=0,i=e.length;s<i;s++)a=yt(e[s]),a&&(t+=e.slice(n,s)+a,n=s+1);return n===0?t=e:t+=e.slice(n),t}var ae="__SEROVAL_REFS__";function Ne(e,t){if(!e)throw t}var He=new Map,se=new Map;function Ye(e){return He.has(e)}function mt(e){return Ne(Ye(e),new Gt(e)),He.get(e)}typeof globalThis<"u"?Object.defineProperty(globalThis,ae,{value:se,configurable:!0,writable:!1,enumerable:!1}):typeof window<"u"?Object.defineProperty(window,ae,{value:se,configurable:!0,writable:!1,enumerable:!1}):typeof self<"u"?Object.defineProperty(self,ae,{value:se,configurable:!0,writable:!1,enumerable:!1}):typeof global<"u"&&Object.defineProperty(global,ae,{value:se,configurable:!0,writable:!1,enumerable:!1});function We(e,t){for(let n=0,a=t.length;n<a;n++){let s=t[n];e.has(s)||(e.add(s),s.extends&&We(e,s.extends))}}function gt(e){if(e){let t=new Set;return We(t,e),[...t]}}var Be={[Symbol.asyncIterator]:0,[Symbol.hasInstance]:1,[Symbol.isConcatSpreadable]:2,[Symbol.iterator]:3,[Symbol.match]:4,[Symbol.matchAll]:5,[Symbol.replace]:6,[Symbol.search]:7,[Symbol.species]:8,[Symbol.split]:9,[Symbol.toPrimitive]:10,[Symbol.toStringTag]:11,[Symbol.unscopables]:12},wt={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"},r=void 0;function b(e,t,n,a,s,i,h,o,y,$,R,p){return{t:e,i:t,s:n,l:a,c:s,m:i,p:h,e:o,a:y,f:$,b:R,o:p}}function N(e){return b(2,r,e,r,r,r,r,r,r,r,r,r)}var Re=N(2),Me=N(3),bt=N(1),vt=N(0),$t=N(4),St=N(5),Ot=N(6),Et=N(7);function we(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function Rt(e){let t=wt[we(e)];return e.name!==t?{name:e.name}:e.constructor.name!==t?{name:e.constructor.name}:{}}function xe(e,t){let n=Rt(e),a=Object.getOwnPropertyNames(e);for(let s=0,i=a.length,h;s<i;s++)h=a[s],h!=="name"&&h!=="message"&&(h==="stack"?t&4&&(n=n||{},n[h]=e[h]):(n=n||{},n[h]=e[h]));return n}function Ve(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function Mt(e){switch(e){case Number.POSITIVE_INFINITY:return St;case Number.NEGATIVE_INFINITY:return Ot}return e!==e?Et:Object.is(e,-0)?$t:b(0,r,e,r,r,r,r,r,r,r,r,r)}function De(e){return b(1,r,W(e),r,r,r,r,r,r,r,r,r)}function xt(e){return b(3,r,""+e,r,r,r,r,r,r,r,r,r)}function Dt(e){return b(4,e,r,r,r,r,r,r,r,r,r,r)}function zt(e,t){let n=t.valueOf();return b(5,e,n!==n?"":t.toISOString(),r,r,r,r,r,r,r,r,r)}function Tt(e,t){return b(6,e,r,r,W(t.source),t.flags,r,r,r,r,r,r)}function At(e,t){let n=new Uint8Array(t),a=n.length,s=new Array(a);for(let i=0;i<a;i++)s[i]=n[i];return b(19,e,s,r,r,r,r,r,r,r,r,r)}function It(e,t){return b(17,e,Be[t],r,r,r,r,r,r,r,r,r)}function _t(e,t){return b(18,e,W(mt(t)),r,r,r,r,r,r,r,r,r)}function Pt(e,t,n){return b(25,e,n,r,W(t),r,r,r,r,r,r,r)}function Ft(e,t,n){return b(9,e,r,t.length,r,r,r,r,n,r,r,Ve(t))}function Ut(e,t){return b(21,e,r,r,r,r,r,r,r,t,r,r)}function Ct(e,t,n){return b(15,e,r,t.length,t.constructor.name,r,r,r,r,n,t.byteOffset,r)}function jt(e,t,n){return b(16,e,r,t.length,t.constructor.name,r,r,r,r,n,t.byteOffset,r)}function kt(e,t,n){return b(20,e,r,t.byteLength,r,r,r,r,r,n,t.byteOffset,r)}function Lt(e,t,n){return b(13,e,we(t),r,r,W(t.message),n,r,r,r,r,r)}function Nt(e,t,n){return b(14,e,we(t),r,r,W(t.message),n,r,r,r,r,r)}function Ht(e,t,n){return b(7,e,r,t,r,r,r,r,n,r,r,r)}function Yt(e,t){return b(28,r,r,r,r,r,r,r,[e,t],r,r,r)}function Wt(e,t){return b(30,r,r,r,r,r,r,r,[e,t],r,r,r)}function Bt(e,t,n){return b(31,e,r,r,r,r,r,r,n,t,r,r)}function Vt(e,t){return b(32,e,r,r,r,r,r,r,r,t,r,r)}function qt(e,t){return b(33,e,r,r,r,r,r,r,r,t,r,r)}function Kt(e,t){return b(34,e,r,r,r,r,r,r,r,t,r,r)}var{toString:be}=Object.prototype;function Xt(e,t){return t instanceof Error?`Seroval caught an error during the ${e} process.
  
${t.name}
${t.message}

- For more information, please check the "cause" property of this error.
- If you believe this is an error in Seroval, please submit an issue at https://github.com/lxsmnsyc/seroval/issues/new`:`Seroval caught an error during the ${e} process.

"${be.call(t)}"

For more information, please check the "cause" property of this error.`}var Jt=class extends Error{constructor(t,n){super(Xt(t,n)),this.cause=n}},ze=class extends Jt{constructor(e){super("parsing",e)}},oe=class extends Error{constructor(t){super(`The value ${be.call(t)} of type "${typeof t}" cannot be parsed/serialized.
      
There are few workarounds for this problem:
- Transform the value in a way that it can be serialized.
- If the reference is present on multiple runtimes (isomorphic), you can use the Reference API to map the references.`),this.value=t}},Gt=class extends Error{constructor(t){super('Missing reference for the value "'+be.call(t)+'" of type "'+typeof t+'"'),this.value=t}},Zt=class{constructor(t,n){this.value=t,this.replacement=n}},Qt={},er={},tr={0:{},1:{},2:{},3:{},4:{}};function rr(e){return"__SEROVAL_STREAM__"in e}function ve(){let e=new Set,t=[],n=!0,a=!0;function s(o){for(let y of e.keys())y.next(o)}function i(o){for(let y of e.keys())y.throw(o)}function h(o){for(let y of e.keys())y.return(o)}return{__SEROVAL_STREAM__:!0,on(o){n&&e.add(o);for(let y=0,$=t.length;y<$;y++){let R=t[y];y===$-1&&!n?a?o.return(R):o.throw(R):o.next(R)}return()=>{n&&e.delete(o)}},next(o){n&&(t.push(o),s(o))},throw(o){n&&(t.push(o),i(o),n=!1,a=!1,e.clear())},return(o){n&&(t.push(o),h(o),n=!1,a=!0,e.clear())}}}function nr(e){let t=ve(),n=e[Symbol.asyncIterator]();async function a(){try{let s=await n.next();s.done?t.return(s.value):(t.next(s.value),await a())}catch(s){t.throw(s)}}return a().catch(()=>{}),t}function ar(e){let t=[],n=-1,a=-1,s=e[Symbol.iterator]();for(;;)try{let i=s.next();if(t.push(i.value),i.done){a=t.length-1;break}}catch(i){n=t.length,t.push(i)}return{v:t,t:n,d:a}}async function sr(e){try{return[1,await e]}catch(t){return[0,t]}}var ir=class{constructor(t){this.marked=new Set,this.plugins=t.plugins,this.features=31^(t.disabledFeatures||0),this.refs=t.refs||new Map}markRef(t){this.marked.add(t)}isMarked(t){return this.marked.has(t)}createIndex(t){let n=this.refs.size;return this.refs.set(t,n),n}getIndexedValue(t){let n=this.refs.get(t);return n!=null?(this.markRef(n),{type:1,value:Dt(n)}):{type:0,value:this.createIndex(t)}}getReference(t){let n=this.getIndexedValue(t);return n.type===1?n:Ye(t)?{type:2,value:_t(n.value,t)}:n}parseWellKnownSymbol(t){let n=this.getReference(t);return n.type!==0?n.value:(Ne(t in Be,new oe(t)),It(n.value,t))}parseSpecialReference(t){let n=this.getIndexedValue(tr[t]);return n.type===1?n.value:b(26,n.value,t,r,r,r,r,r,r,r,r,r)}parseIteratorFactory(){let t=this.getIndexedValue(Qt);return t.type===1?t.value:b(27,t.value,r,r,r,r,r,r,r,this.parseWellKnownSymbol(Symbol.iterator),r,r)}parseAsyncIteratorFactory(){let t=this.getIndexedValue(er);return t.type===1?t.value:b(29,t.value,r,r,r,r,r,r,[this.parseSpecialReference(1),this.parseWellKnownSymbol(Symbol.asyncIterator)],r,r,r)}createObjectNode(t,n,a,s){return b(a?11:10,t,r,r,r,r,s,r,r,r,r,Ve(n))}createMapNode(t,n,a,s){return b(8,t,r,r,r,r,r,{k:n,v:a,s},r,this.parseSpecialReference(0),r,r)}createPromiseConstructorNode(t,n){return b(22,t,n,r,r,r,r,r,r,this.parseSpecialReference(1),r,r)}},ur=class extends ir{async parseItems(e){let t=[];for(let n=0,a=e.length;n<a;n++)n in e&&(t[n]=await this.parse(e[n]));return t}async parseArray(e,t){return Ft(e,t,await this.parseItems(t))}async parseProperties(e){let t=Object.entries(e),n=[],a=[];for(let i=0,h=t.length;i<h;i++)n.push(W(t[i][0])),a.push(await this.parse(t[i][1]));let s=Symbol.iterator;return s in e&&(n.push(this.parseWellKnownSymbol(s)),a.push(Yt(this.parseIteratorFactory(),await this.parse(ar(e))))),s=Symbol.asyncIterator,s in e&&(n.push(this.parseWellKnownSymbol(s)),a.push(Wt(this.parseAsyncIteratorFactory(),await this.parse(nr(e))))),s=Symbol.toStringTag,s in e&&(n.push(this.parseWellKnownSymbol(s)),a.push(De(e[s]))),s=Symbol.isConcatSpreadable,s in e&&(n.push(this.parseWellKnownSymbol(s)),a.push(e[s]?Re:Me)),{k:n,v:a,s:n.length}}async parsePlainObject(e,t,n){return this.createObjectNode(e,t,n,await this.parseProperties(t))}async parseBoxed(e,t){return Ut(e,await this.parse(t.valueOf()))}async parseTypedArray(e,t){return Ct(e,t,await this.parse(t.buffer))}async parseBigIntTypedArray(e,t){return jt(e,t,await this.parse(t.buffer))}async parseDataView(e,t){return kt(e,t,await this.parse(t.buffer))}async parseError(e,t){let n=xe(t,this.features);return Lt(e,t,n?await this.parseProperties(n):r)}async parseAggregateError(e,t){let n=xe(t,this.features);return Nt(e,t,n?await this.parseProperties(n):r)}async parseMap(e,t){let n=[],a=[];for(let[s,i]of t.entries())n.push(await this.parse(s)),a.push(await this.parse(i));return this.createMapNode(e,n,a,t.size)}async parseSet(e,t){let n=[];for(let a of t.keys())n.push(await this.parse(a));return Ht(e,t.size,n)}async parsePromise(e,t){let[n,a]=await sr(t);return b(12,e,n,r,r,r,r,r,r,await this.parse(a),r,r)}async parsePlugin(e,t){let n=this.plugins;if(n)for(let a=0,s=n.length;a<s;a++){let i=n[a];if(i.parse.async&&i.test(t))return Pt(e,i.tag,await i.parse.async(t,this,{id:e}))}return r}async parseStream(e,t){return Bt(e,this.parseSpecialReference(4),await new Promise((n,a)=>{let s=[],i=t.on({next:h=>{this.markRef(e),this.parse(h).then(o=>{s.push(Vt(e,o))},o=>{a(o),i()})},throw:h=>{this.markRef(e),this.parse(h).then(o=>{s.push(qt(e,o)),n(s),i()},o=>{a(o),i()})},return:h=>{this.markRef(e),this.parse(h).then(o=>{s.push(Kt(e,o)),n(s),i()},o=>{a(o),i()})}})}))}async parseObject(e,t){if(Array.isArray(t))return this.parseArray(e,t);if(rr(t))return this.parseStream(e,t);let n=t.constructor;if(n===Zt)return this.parse(t.replacement);let a=await this.parsePlugin(e,t);if(a)return a;switch(n){case Object:return this.parsePlainObject(e,t,!1);case r:return this.parsePlainObject(e,t,!0);case Date:return zt(e,t);case RegExp:return Tt(e,t);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return this.parseError(e,t);case Number:case Boolean:case String:case BigInt:return this.parseBoxed(e,t);case ArrayBuffer:return At(e,t);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return this.parseTypedArray(e,t);case DataView:return this.parseDataView(e,t);case Map:return this.parseMap(e,t);case Set:return this.parseSet(e,t)}if(n===Promise||t instanceof Promise)return this.parsePromise(e,t);let s=this.features;if(s&16)switch(n){case BigInt64Array:case BigUint64Array:return this.parseBigIntTypedArray(e,t)}if(s&1&&typeof AggregateError<"u"&&(n===AggregateError||t instanceof AggregateError))return this.parseAggregateError(e,t);if(t instanceof Error)return this.parseError(e,t);if(Symbol.iterator in t||Symbol.asyncIterator in t)return this.parsePlainObject(e,t,!!n);throw new oe(t)}async parseFunction(e){let t=this.getReference(e);if(t.type!==0)return t.value;let n=await this.parsePlugin(t.value,e);if(n)return n;throw new oe(e)}async parse(e){switch(typeof e){case"boolean":return e?Re:Me;case"undefined":return bt;case"string":return De(e);case"number":return Mt(e);case"bigint":return xt(e);case"object":{if(e){let t=this.getReference(e);return t.type===0?await this.parseObject(t.value,e):t.value}return vt}case"symbol":return this.parseWellKnownSymbol(e);case"function":return this.parseFunction(e);default:throw new oe(e)}}async parseTop(e){try{return await this.parse(e)}catch(t){throw t instanceof ze?t:new ze(t)}}},or=class extends ur{constructor(){super(...arguments),this.mode="vanilla"}};function cr(e){return(0,eval)(e)}async function qe(e,t={}){let n=gt(t.plugins),a=new or({plugins:n,disabledFeatures:t.disabledFeatures});return{t:await a.parseTop(e),f:a.features,m:Array.from(a.marked)}}function he(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var lr={tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent>"u"?!1:e instanceof CustomEvent},parse:{sync(e,t){return{type:t.parse(e.type),options:t.parse(he(e))}},async async(e,t){return{type:await t.parse(e.type),options:await t.parse(he(e))}},stream(e,t){return{type:t.parse(e.type),options:t.parse(he(e))}}},serialize(e,t){return"new CustomEvent("+t.serialize(e.type)+","+t.serialize(e.options)+")"},deserialize(e,t){return new CustomEvent(t.deserialize(e.type),t.deserialize(e.options))}},fr=lr,hr={tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException>"u"?!1:e instanceof DOMException},parse:{sync(e,t){return{name:t.parse(e.name),message:t.parse(e.message)}},async async(e,t){return{name:await t.parse(e.name),message:await t.parse(e.message)}},stream(e,t){return{name:t.parse(e.name),message:t.parse(e.message)}}},serialize(e,t){return"new DOMException("+t.serialize(e.message)+","+t.serialize(e.name)+")"},deserialize(e,t){return new DOMException(t.deserialize(e.message),t.deserialize(e.name))}},dr=hr;function de(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var pr={tag:"seroval-plugins/web/Event",test(e){return typeof Event>"u"?!1:e instanceof Event},parse:{sync(e,t){return{type:t.parse(e.type),options:t.parse(de(e))}},async async(e,t){return{type:await t.parse(e.type),options:await t.parse(de(e))}},stream(e,t){return{type:t.parse(e.type),options:t.parse(de(e))}}},serialize(e,t){return"new Event("+t.serialize(e.type)+","+t.serialize(e.options)+")"},deserialize(e,t){return new Event(t.deserialize(e.type),t.deserialize(e.options))}},yr=pr,mr={tag:"seroval-plugins/web/File",test(e){return typeof File>"u"?!1:e instanceof File},parse:{async async(e,t){return{name:await t.parse(e.name),options:await t.parse({type:e.type,lastModified:e.lastModified}),buffer:await t.parse(await e.arrayBuffer())}}},serialize(e,t){return"new File(["+t.serialize(e.buffer)+"],"+t.serialize(e.name)+","+t.serialize(e.options)+")"},deserialize(e,t){return new File([t.deserialize(e.buffer)],t.deserialize(e.name),t.deserialize(e.options))}},gr=mr;function pe(e){let t=[];return e.forEach((n,a)=>{t.push([a,n])}),t}var J={},wr={tag:"seroval-plugins/web/FormDataFactory",test(e){return e===J},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,t){return t.createEffectfulFunction(["e","f","i","s","t"],"f=new FormData;for(i=0,s=e.length;i<s;i++)f.append((t=e[i])[0],t[1]);return f")},deserialize(){return J}},br={tag:"seroval-plugins/web/FormData",extends:[gr,wr],test(e){return typeof FormData>"u"?!1:e instanceof FormData},parse:{sync(e,t){return{factory:t.parse(J),entries:t.parse(pe(e))}},async async(e,t){return{factory:await t.parse(J),entries:await t.parse(pe(e))}},stream(e,t){return{factory:t.parse(J),entries:t.parse(pe(e))}}},serialize(e,t){return"("+t.serialize(e.factory)+")("+t.serialize(e.entries)+")"},deserialize(e,t){let n=new FormData,a=t.deserialize(e.entries);for(let s=0,i=a.length;s<i;s++){let h=a[s];n.append(h[0],h[1])}return n}},vr=br;function ye(e){let t=[];return e.forEach((n,a)=>{t.push([a,n])}),t}var $r={tag:"seroval-plugins/web/Headers",test(e){return typeof Headers>"u"?!1:e instanceof Headers},parse:{sync(e,t){return t.parse(ye(e))},async async(e,t){return await t.parse(ye(e))},stream(e,t){return t.parse(ye(e))}},serialize(e,t){return"new Headers("+t.serialize(e)+")"},deserialize(e,t){return new Headers(t.deserialize(e))}},$e=$r,G={},Sr={tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===G},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,t){return t.createFunction(["d"],"new ReadableStream({start:"+t.createEffectfulFunction(["c"],"d.on({next:"+t.createEffectfulFunction(["v"],"try{c.enqueue(v)}catch{}")+",throw:"+t.createEffectfulFunction(["v"],"c.error(v)")+",return:"+t.createEffectfulFunction([],"try{c.close()}catch{}")+"})")+"})")},deserialize(){return G}};function Te(e){let t=ve(),n=e.getReader();async function a(){try{let s=await n.read();s.done?t.return(s.value):(t.next(s.value),await a())}catch(s){t.throw(s)}}return a().catch(()=>{}),t}var Or={tag:"seroval/plugins/web/ReadableStream",extends:[Sr],test(e){return typeof ReadableStream>"u"?!1:e instanceof ReadableStream},parse:{sync(e,t){return{factory:t.parse(G),stream:t.parse(ve())}},async async(e,t){return{factory:await t.parse(G),stream:await t.parse(Te(e))}},stream(e,t){return{factory:t.parse(G),stream:t.parse(Te(e))}}},serialize(e,t){return"("+t.serialize(e.factory)+")("+t.serialize(e.stream)+")"},deserialize(e,t){let n=t.deserialize(e.stream);return new ReadableStream({start(a){n.on({next(s){try{a.enqueue(s)}catch{}},throw(s){a.error(s)},return(){try{a.close()}catch{}}})}})}},Se=Or;function Ae(e,t){return{body:t,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var Er={tag:"seroval-plugins/web/Request",extends:[Se,$e],test(e){return typeof Request>"u"?!1:e instanceof Request},parse:{async async(e,t){return{url:await t.parse(e.url),options:await t.parse(Ae(e,e.body?await e.clone().arrayBuffer():null))}},stream(e,t){return{url:t.parse(e.url),options:t.parse(Ae(e,e.clone().body))}}},serialize(e,t){return"new Request("+t.serialize(e.url)+","+t.serialize(e.options)+")"},deserialize(e,t){return new Request(t.deserialize(e.url),t.deserialize(e.options))}},Rr=Er;function Ie(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var Mr={tag:"seroval-plugins/web/Response",extends:[Se,$e],test(e){return typeof Response>"u"?!1:e instanceof Response},parse:{async async(e,t){return{body:await t.parse(e.body?await e.clone().arrayBuffer():null),options:await t.parse(Ie(e))}},stream(e,t){return{body:t.parse(e.clone().body),options:t.parse(Ie(e))}}},serialize(e,t){return"new Response("+t.serialize(e.body)+","+t.serialize(e.options)+")"},deserialize(e,t){return new Response(t.deserialize(e.body),t.deserialize(e.options))}},xr=Mr,Dr={tag:"seroval-plugins/web/URL",test(e){return typeof URL>"u"?!1:e instanceof URL},parse:{sync(e,t){return t.parse(e.href)},async async(e,t){return await t.parse(e.href)},stream(e,t){return t.parse(e.href)}},serialize(e,t){return"new URL("+t.serialize(e)+")"},deserialize(e,t){return new URL(t.deserialize(e))}},zr=Dr,Tr={tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams>"u"?!1:e instanceof URLSearchParams},parse:{sync(e,t){return t.parse(e.toString())},async async(e,t){return await t.parse(e.toString())},stream(e,t){return t.parse(e.toString())}},serialize(e,t){return"new URLSearchParams("+t.serialize(e)+")"},deserialize(e,t){return new URLSearchParams(t.deserialize(e))}},Ar=Tr;class Ir{reader;buffer;done;constructor(t){this.reader=t.getReader(),this.buffer=new Uint8Array(0),this.done=!1}async readChunk(){const t=await this.reader.read();if(t.done)this.done=!0;else{let n=new Uint8Array(this.buffer.length+t.value.length);n.set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n}}async next(){if(this.buffer.length===0)return this.done?{done:!0,value:void 0}:(await this.readChunk(),await this.next());const t=new TextDecoder().decode(this.buffer.subarray(1,11)),n=Number.parseInt(t,16);if(Number.isNaN(n))throw new Error(`Malformed server function stream header: ${t}`);for(;n>this.buffer.length-12;){if(this.done)throw new Error("Malformed server function stream.");await this.readChunk()}const a=new TextDecoder().decode(this.buffer.subarray(12,12+n));return this.buffer=this.buffer.subarray(12+n),{done:!1,value:cr(a)}}async drain(){for(;!(await this.next()).done;);}}async function _e(e,t){if(!t.body)throw new Error("missing body");const n=new Ir(t.body),a=await n.next();return a.done||n.drain().then(()=>{delete $R[e]},()=>{}),a.value}let _r=0;function ie(e,t,n,a){return fetch(e,{method:"POST",...a,headers:{...a.headers,"X-Server-Id":t,"X-Server-Instance":n}})}const Ke=[fr,dr,yr,vr,$e,Se,Rr,xr,Ar,zr];async function Pe(e,t,n,a){const s=`server-fn:${_r++}`,i=await(a.length===0?ie(e,t,s,n):a.length===1&&a[0]instanceof FormData?ie(e,t,s,{...n,body:a[0]}):a.length===1&&a[0]instanceof URLSearchParams?ie(e,t,s,{...n,body:a[0],headers:{...n.headers,"Content-Type":"application/x-www-form-urlencoded"}}):ie(e,t,s,{...n,body:JSON.stringify(await Promise.resolve(qe(a,{plugins:Ke}))),headers:{...n.headers,"Content-Type":"application/json"}}));if(i.headers.has("Location")||i.headers.has("X-Revalidate")||i.headers.has("X-Single-Flight"))return i.body&&(i.customBody=()=>_e(s,i)),i;const h=i.headers.get("Content-Type");let o;if(h&&h.startsWith("text/plain")?o=await i.text():h&&h.startsWith("application/json")?o=await i.json():o=await _e(s,i),i.headers.has("X-Error"))throw o;return o}function Jr(e,t,n){return new Proxy(e,{get(s,i,h){if(i==="url")return`/_server?id=${encodeURIComponent(t)}&name=${encodeURIComponent(n)}`;if(i==="GET")return h.withOptions({method:"GET"});if(i==="withOptions"){const o=`/_server/?id=${encodeURIComponent(t)}&name=${encodeURIComponent(n)}`;return y=>{const $=async(...R)=>{const p=y.method&&y.method.toUpperCase()==="GET";return Pe(p?o+(R.length?`&args=${encodeURIComponent(JSON.stringify(await Promise.resolve(qe(R,{plugins:Ke}))))}`:""):"/_server",`${t}#${n}`,y,p?[]:R)};return $.url=o,$}}return s[i]},apply(s,i,h){return Pe("/_server",`${t}#${n}`,{},h)}})}var Gr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Zr(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var s=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return e[a]}})}),n}var ce={exports:{}},Pr=ce.exports,Fe;function Fr(){return Fe||(Fe=1,(function(e,t){(function(n,a){e.exports=a()})(Pr,function(){var n=1e3,a=6e4,s=36e5,i="millisecond",h="second",o="minute",y="hour",$="day",R="week",p="month",I="quarter",O="year",M="date",f="Invalid Date",S=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,_=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,j={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(m){var l=["th","st","nd","rd"],u=m%100;return"["+m+(l[(u-20)%10]||l[u]||l[0])+"]"}},P=function(m,l,u){var d=String(m);return!d||d.length>=l?m:""+Array(l+1-d.length).join(u)+m},te={s:P,z:function(m){var l=-m.utcOffset(),u=Math.abs(l),d=Math.floor(u/60),c=u%60;return(l<=0?"+":"-")+P(d,2,"0")+":"+P(c,2,"0")},m:function m(l,u){if(l.date()<u.date())return-m(u,l);var d=12*(u.year()-l.year())+(u.month()-l.month()),c=l.clone().add(d,p),g=u-c<0,w=l.clone().add(d+(g?-1:1),p);return+(-(d+(u-c)/(g?c-w:w-c))||0)},a:function(m){return m<0?Math.ceil(m)||0:Math.floor(m)},p:function(m){return{M:p,y:O,w:R,d:$,D:M,h:y,m:o,s:h,ms:i,Q:I}[m]||String(m||"").toLowerCase().replace(/s$/,"")},u:function(m){return m===void 0}},C="en",U={};U[C]=j;var B="$isDayjsObject",q=function(m){return m instanceof re||!(!m||!m[B])},k=function m(l,u,d){var c;if(!l)return C;if(typeof l=="string"){var g=l.toLowerCase();U[g]&&(c=g),u&&(U[g]=u,c=g);var w=l.split("-");if(!c&&w.length>1)return m(w[0])}else{var E=l.name;U[E]=l,c=E}return!d&&c&&(C=c),c||!d&&C},D=function(m,l){if(q(m))return m.clone();var u=typeof l=="object"?l:{};return u.date=m,u.args=arguments,new re(u)},v=te;v.l=k,v.i=q,v.w=function(m,l){return D(m,{locale:l.$L,utc:l.$u,x:l.$x,$offset:l.$offset})};var re=(function(){function m(u){this.$L=k(u.locale,null,!0),this.parse(u),this.$x=this.$x||u.x||{},this[B]=!0}var l=m.prototype;return l.parse=function(u){this.$d=(function(d){var c=d.date,g=d.utc;if(c===null)return new Date(NaN);if(v.u(c))return new Date;if(c instanceof Date)return new Date(c);if(typeof c=="string"&&!/Z$/i.test(c)){var w=c.match(S);if(w){var E=w[2]-1||0,x=(w[7]||"0").substring(0,3);return g?new Date(Date.UTC(w[1],E,w[3]||1,w[4]||0,w[5]||0,w[6]||0,x)):new Date(w[1],E,w[3]||1,w[4]||0,w[5]||0,w[6]||0,x)}}return new Date(c)})(u),this.init()},l.init=function(){var u=this.$d;this.$y=u.getFullYear(),this.$M=u.getMonth(),this.$D=u.getDate(),this.$W=u.getDay(),this.$H=u.getHours(),this.$m=u.getMinutes(),this.$s=u.getSeconds(),this.$ms=u.getMilliseconds()},l.$utils=function(){return v},l.isValid=function(){return this.$d.toString()!==f},l.isSame=function(u,d){var c=D(u);return this.startOf(d)<=c&&c<=this.endOf(d)},l.isAfter=function(u,d){return D(u)<this.startOf(d)},l.isBefore=function(u,d){return this.endOf(d)<D(u)},l.$g=function(u,d,c){return v.u(u)?this[d]:this.set(c,u)},l.unix=function(){return Math.floor(this.valueOf()/1e3)},l.valueOf=function(){return this.$d.getTime()},l.startOf=function(u,d){var c=this,g=!!v.u(d)||d,w=v.p(u),E=function(Y,A){var L=v.w(c.$u?Date.UTC(c.$y,A,Y):new Date(c.$y,A,Y),c);return g?L:L.endOf($)},x=function(Y,A){return v.w(c.toDate()[Y].apply(c.toDate("s"),(g?[0,0,0,0]:[23,59,59,999]).slice(A)),c)},z=this.$W,T=this.$M,F=this.$D,V="set"+(this.$u?"UTC":"");switch(w){case O:return g?E(1,0):E(31,11);case p:return g?E(1,T):E(0,T+1);case R:var H=this.$locale().weekStart||0,K=(z<H?z+7:z)-H;return E(g?F-K:F+(6-K),T);case $:case M:return x(V+"Hours",0);case y:return x(V+"Minutes",1);case o:return x(V+"Seconds",2);case h:return x(V+"Milliseconds",3);default:return this.clone()}},l.endOf=function(u){return this.startOf(u,!1)},l.$set=function(u,d){var c,g=v.p(u),w="set"+(this.$u?"UTC":""),E=(c={},c[$]=w+"Date",c[M]=w+"Date",c[p]=w+"Month",c[O]=w+"FullYear",c[y]=w+"Hours",c[o]=w+"Minutes",c[h]=w+"Seconds",c[i]=w+"Milliseconds",c)[g],x=g===$?this.$D+(d-this.$W):d;if(g===p||g===O){var z=this.clone().set(M,1);z.$d[E](x),z.init(),this.$d=z.set(M,Math.min(this.$D,z.daysInMonth())).$d}else E&&this.$d[E](x);return this.init(),this},l.set=function(u,d){return this.clone().$set(u,d)},l.get=function(u){return this[v.p(u)]()},l.add=function(u,d){var c,g=this;u=Number(u);var w=v.p(d),E=function(T){var F=D(g);return v.w(F.date(F.date()+Math.round(T*u)),g)};if(w===p)return this.set(p,this.$M+u);if(w===O)return this.set(O,this.$y+u);if(w===$)return E(1);if(w===R)return E(7);var x=(c={},c[o]=a,c[y]=s,c[h]=n,c)[w]||1,z=this.$d.getTime()+u*x;return v.w(z,this)},l.subtract=function(u,d){return this.add(-1*u,d)},l.format=function(u){var d=this,c=this.$locale();if(!this.isValid())return c.invalidDate||f;var g=u||"YYYY-MM-DDTHH:mm:ssZ",w=v.z(this),E=this.$H,x=this.$m,z=this.$M,T=c.weekdays,F=c.months,V=c.meridiem,H=function(A,L,X,ne){return A&&(A[L]||A(d,g))||X[L].slice(0,ne)},K=function(A){return v.s(E%12||12,A,"0")},Y=V||function(A,L,X){var ne=A<12?"AM":"PM";return X?ne.toLowerCase():ne};return g.replace(_,function(A,L){return L||(function(X){switch(X){case"YY":return String(d.$y).slice(-2);case"YYYY":return v.s(d.$y,4,"0");case"M":return z+1;case"MM":return v.s(z+1,2,"0");case"MMM":return H(c.monthsShort,z,F,3);case"MMMM":return H(F,z);case"D":return d.$D;case"DD":return v.s(d.$D,2,"0");case"d":return String(d.$W);case"dd":return H(c.weekdaysMin,d.$W,T,2);case"ddd":return H(c.weekdaysShort,d.$W,T,3);case"dddd":return T[d.$W];case"H":return String(E);case"HH":return v.s(E,2,"0");case"h":return K(1);case"hh":return K(2);case"a":return Y(E,x,!0);case"A":return Y(E,x,!1);case"m":return String(x);case"mm":return v.s(x,2,"0");case"s":return String(d.$s);case"ss":return v.s(d.$s,2,"0");case"SSS":return v.s(d.$ms,3,"0");case"Z":return w}return null})(A)||w.replace(":","")})},l.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},l.diff=function(u,d,c){var g,w=this,E=v.p(d),x=D(u),z=(x.utcOffset()-this.utcOffset())*a,T=this-x,F=function(){return v.m(w,x)};switch(E){case O:g=F()/12;break;case p:g=F();break;case I:g=F()/3;break;case R:g=(T-z)/6048e5;break;case $:g=(T-z)/864e5;break;case y:g=T/s;break;case o:g=T/a;break;case h:g=T/n;break;default:g=T}return c?g:v.a(g)},l.daysInMonth=function(){return this.endOf(p).$D},l.$locale=function(){return U[this.$L]},l.locale=function(u,d){if(!u)return this.$L;var c=this.clone(),g=k(u,d,!0);return g&&(c.$L=g),c},l.clone=function(){return v.w(this.$d,this)},l.toDate=function(){return new Date(this.valueOf())},l.toJSON=function(){return this.isValid()?this.toISOString():null},l.toISOString=function(){return this.$d.toISOString()},l.toString=function(){return this.$d.toUTCString()},m})(),Oe=re.prototype;return D.prototype=Oe,[["$ms",i],["$s",h],["$m",o],["$H",y],["$W",$],["$M",p],["$y",O],["$D",M]].forEach(function(m){Oe[m[1]]=function(l){return this.$g(l,m[0],m[1])}}),D.extend=function(m,l){return m.$i||(m(l,re,D),m.$i=!0),D},D.locale=k,D.isDayjs=q,D.unix=function(m){return D(1e3*m)},D.en=U[C],D.Ls=U,D.p={},D})})(ce)),ce.exports}var Ur=Fr();const Qr=Xe(Ur);var le={exports:{}},Cr=le.exports,Ue;function jr(){return Ue||(Ue=1,(function(e,t){(function(n,a){e.exports=a()})(Cr,function(){var n="minute",a=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(i,h,o){var y=h.prototype;o.utc=function(f){var S={date:f,utc:!0,args:arguments};return new h(S)},y.utc=function(f){var S=o(this.toDate(),{locale:this.$L,utc:!0});return f?S.add(this.utcOffset(),n):S},y.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var $=y.parse;y.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),$.call(this,f)};var R=y.init;y.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else R.call(this)};var p=y.utcOffset;y.utcOffset=function(f,S){var _=this.$utils().u;if(_(f))return this.$u?0:_(this.$offset)?p.call(this):this.$offset;if(typeof f=="string"&&(f=(function(C){C===void 0&&(C="");var U=C.match(a);if(!U)return null;var B=(""+U[0]).match(s)||["-",0,0],q=B[0],k=60*+B[1]+ +B[2];return k===0?0:q==="+"?k:-k})(f),f===null))return this;var j=Math.abs(f)<=16?60*f:f;if(j===0)return this.utc(S);var P=this.clone();if(S)return P.$offset=j,P.$u=!1,P;var te=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(P=this.local().add(j+te,n)).$offset=j,P.$x.$localOffset=te,P};var I=y.format;y.format=function(f){var S=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return I.call(this,S)},y.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},y.isUTC=function(){return!!this.$u},y.toISOString=function(){return this.toDate().toISOString()},y.toString=function(){return this.toDate().toUTCString()};var O=y.toDate;y.toDate=function(f){return f==="s"&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():O.call(this)};var M=y.diff;y.diff=function(f,S,_){if(f&&this.$u===f.$u)return M.call(this,f,S,_);var j=this.local(),P=o(f).local();return M.call(j,P,S,_)}}})})(le)),le.exports}var kr=jr();const en=Xe(kr);export{Ee as a,Yr as b,Jr as c,Qr as d,Hr as e,Gr as f,Xe as g,Zr as h,ee as q,en as u};
