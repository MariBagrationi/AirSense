import{e as y,i as o,y as d,l as r,b as n,t as p,A as ne,S as C,v as F,r as le,B as ae,C as m,h as oe}from"./web-BP_Sm2kp.js";import{P as de,e as pe}from"./password-B7kU2MEO.js";/* empty css                 */import{c as G,r as ce}from"./user-DPU6oxOF.js";import{u as ue}from"./routing-DE3KDVov.js";import{c as ge}from"./createAsync-CxGUhFbC.js";import{e as me}from"./utc-B-W9tmtl.js";import{A as v}from"./components-C5epJ_uZ.js";import"./warning-CNbI2TVd.js";var $e=p("<p class=type-body-2 role=alert>Passwords must match"),be=p('<form class=register-form method=post><input type=hidden name=redirect><div class=form-element><label for=fullname class="type-subtitle-3 text-sky-120">Full Name</label><input class=text-input name=fullname autocomplete=on placeholder=" "required></div><div class=form-element><label for=email-address class="type-subtitle-3 text-sky-120">Email address</label><input class=text-input name=email-address type=email placeholder=" "autocomplete=on required></div><div class=form-element><label for=password-input class="type-subtitle-3 text-sky-120">Password (mininum 8 characters)</label><input name=password id=password type=password minlength=8 placeholder=" "class=text-input required></div><div class=form-element><label for=password-confirm class="type-subtitle-3 text-sky-120">Confirm Password</label><input name=password-confirm id=password-confirm type=password minlength=8 placeholder=" "class=text-input required></div><!$><!/><!$><!/><button class="btn btn-primary"type=submit>'),ye=p("<p role=alert id=error-message>"),fe=p('<div><span class="type-subtitle-3 text-sky-120">Already have an account? <!$><!/>'),he=p('<div><p class="type-body-3 text-sky-120"style=width:500px>By registering and using OpenAQ services, you agree to the OpenAQ <!$><!/>, <!$><!/> and <!$><!/>.</p><br><p class="type-body-3 text-sky-120"style=width:500px>If you had registered for an OpenAQ API key prior to January 2024 you already have an OpenAQ Explorer account! use the email and password you previously signed up with to get started.'),xe=p('<main class=register-page><h1 class="type-display-1 text-sky-120">Create an account</h1><!$><!/>'),_e=p("<span>The OpenAQ Explorer is experiencing issues with new account registration.<br> We are currently working on a fix, please try again later.");function qe(){ge(()=>ce());const[H]=ue(),[J,U]=y(),[j,z]=y(),[I,A]=y(),[K,T]=y(),[q,E]=y();let N;const X=l=>{const a=l.target;U(a.value),clearTimeout(N),N=window.setTimeout(()=>{const f=pe(a.value);a.value!==""?(A(f.score),T(f.feedback.warning)):(A(void 0),T(""))},500)};let O;const Y=l=>{const a=l.target;z(a.value),clearTimeout(O),O=window.setTimeout(()=>{J()!==j()?E(!0):E(!1)},500)},i=me(G);return(()=>{var l=o(xe),a=l.firstChild,f=a.nextSibling,[Z,ee]=d(f.nextSibling);return r(l,n(C,{when:!0,get fallback(){return o(_e)},get children(){return[(()=>{var e=o(be),s=e.firstChild,c=s.nextSibling,$=c.firstChild,u=$.nextSibling,g=c.nextSibling,S=g.firstChild,k=S.nextSibling,b=g.nextSibling,P=b.firstChild,h=P.nextSibling,x=b.nextSibling,_=x.firstChild,w=_.nextSibling,te=x.nextSibling,[Q,se]=d(te.nextSibling),re=Q.nextSibling,[V,ie]=d(re.nextSibling),M=V.nextSibling;return ne(e,"action",G),h.$$input=t=>X(t),w.$$input=t=>Y(t),r(e,n(de,{get score(){return I()},get warning(){return K()}}),Q,se),r(e,n(C,{get when(){return q()},get children(){return o($e)}}),V,ie),r(M,()=>i.pending?"Registering...":"Get started"),F(t=>{var R=i.pending,W=i.pending,B=i.pending,D=i.pending,L=i.pending||I()<4||q();return R!==t.e&&m(u,"disabled",t.e=R),W!==t.t&&m(k,"disabled",t.t=W),B!==t.a&&m(h,"disabled",t.a=B),D!==t.o&&m(w,"disabled",t.o=D),L!==t.i&&m(M,"disabled",t.i=L),t},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),F(()=>m(s,"value",H.redirect??"/")),le(),e})(),n(C,{get when(){return i.result},get children(){var e=o(ye);return ae(e,"color","red"),r(e,()=>i.result.message),e}}),(()=>{var e=o(fe),s=e.firstChild,c=s.firstChild,$=c.nextSibling,[u,g]=d($.nextSibling);return r(s,n(v,{class:"type-link-3 text-sky-120",href:"/login",children:"Login"}),u,g),e})(),(()=>{var e=o(he),s=e.firstChild,c=s.firstChild,$=c.nextSibling,[u,g]=d($.nextSibling),S=u.nextSibling,k=S.nextSibling,[b,P]=d(k.nextSibling),h=b.nextSibling,x=h.nextSibling,[_,w]=d(x.nextSibling);return _.nextSibling,r(s,n(v,{class:"type-link-3 text-sky-120",href:"https://docs.openaq.org/about/terms",children:"Terms of Use"}),u,g),r(s,n(v,{class:"type-link-3 text-sky-120",href:"https://openaq.org/privacy/",children:"Privacy Policy"}),b,P),r(s,n(v,{class:"type-link-3 text-sky-120",href:"https://openaq.org/cookies/",children:"Cookie Policy"}),_,w),e})()]}}),Z,ee),l})()}oe(["input"]);export{qe as default};
