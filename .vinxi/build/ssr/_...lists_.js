import{ssr as o,ssrHydrationKey as i,escape as t,createComponent as s,ssrElement as z,mergeProps as h,ssrAttribute as m,ssrStyleProperty as w}from"solid-js/web";import{u}from"./assets/index-BBOR6-eJ.js";import{M as C,S as D}from"./assets/index-UEaCuu6f.js";import{L as k}from"./assets/index-BAcFkYlj.js";import{createSignal as g,Show as l,createEffect as _,For as x}from"solid-js";import*as A from"maplibre-gl";import f from"@turf/destination";import{D as L}from"./assets/delete_forever-CU_4vvcr.js";import{A as N}from"./assets/components-D-gQuZqx.js";/* empty css                     */import{c as b,d as v,g as S}from"./assets/lists-DLVnc5wO.js";import{C as F}from"./assets/close-CKxkeldA.js";import{u as M,c as R}from"./assets/backend-CxM3g3pI.js";import{E as Y}from"./assets/warning-C9UEnkBy.js";/* empty css                     */import{g as O}from"./assets/user-3VDwjqVg.js";import{c as p}from"./assets/createAsync-Dqt8Sub7.js";import"solid-js/store";import"./assets/routing-BPjDSAJ2.js";import"dayjs";import"dayjs/plugin/utc.js";import"solid-js/web/storage";import"h3";import"unctx";import"node:async_hooks";import"crypto";import"util";import"nanoid";import"@zxcvbn-ts/core";import"@zxcvbn-ts/language-common";import"@zxcvbn-ts/language-en";var E=["<div",' class="list-card-map-container">',"</div>"];function y(e){const a=f(e[0],1,-135,{units:"kilometers"}),c=f(e[2],1,45,{units:"kilometers"});return[...a.geometry.coordinates,...c.geometry.coordinates]}function H(e){const[a]=g({bounds:y(e.bbox)});return o(E,i(),t(s(C,{class:"map",mapLib:A,get options(){return{accessToken:"pk.eyJ1IjoibWJhZ3JhdGlvbmkiLCJhIjoiY21nYzdvYzRtMWRlaTJrczdhdmFvY3R1ZSJ9.q1gwOrfrGLBRKTef6ylZzQ",style:"https://api.maptiler.com/maps/dataviz-dark/style.json?key=UhseFH2iDqnVh2izRANY",touchZoomRotate:!1,dragRotate:!1,interactive:!1}},get viewport(){return a()},get children(){return s(l,{get when(){return e.sensorNodesIds.length>0},get children(){return s(D,{get source(){return{id:"locations",type:"vector",tiles:["https://api.maptiler.com/tiles/streets/{z}/{x}/{y}.pbf?key=UhseFH2iDqnVh2izRANY/{z}/{x}/{y}.pbf?apiKey=UhseFH2iDqnVh2izRANY"],minzoom:1,maxzoom:24,bounds:y(e.bbox)}},get children(){return s(k,{id:"locations",get style(){return{type:"circle","source-layer":"locations",paint:{"circle-color":["case",["in",["get","locations_id"],["literal",e.sensorNodesIds]],"#FEE172","transparent"],"circle-stroke-color":["case",["in",["get","locations_id"],["literal",e.sensorNodesIds]],"#33A3A1","transparent"],"circle-stroke-width":["interpolate",["linear"],["zoom"],2,1,14,4],"circle-radius":["interpolate",["linear"],["zoom"],1,3,12,8]}}}})}})}})}})))}var J=["<div",' class="list-card__body"><div class="list-content"><!--$-->','<!--/--><div class="list-info"><h1 class="type-heading-1 text-sky-120">','</h1><p class="type-body-2">','</p><p class="type-body-3"><!--$-->',"<!--/--> Locations</p></div></div><div></div></div>"],U=["<div",' class="list-card"><!--$-->','<!--/--><button class="list-card-delete-btn" type="button">',"</button></div>"];function q(e){const a={width:24,height:24,fill:"#5a6672"},[c,{setDeleteListsId:r,toggleDeleteListModalOpen:n}]=u();return o(U,i(),t(s(N,{get href(){return`/lists/${e.listsId}`},get children(){return o(J,i(),t(s(H,e)),t(e.label),t(e.description),t(e.locationsCount))}})),t(s(L,a)))}var W='<path d="M440-440H200v-80h240v-240h80v240h240v80H520v240h-80z"></path>';const I=(e={})=>z("svg",h({xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 -960 960 960"},e),()=>o(W),!0);var Z=["<p",' style="','" role="alert" id="error-message">',"</p>"],j=["<dialog",' class="modal"><form',' method="post"><header class="modal__header"><h2 class="title"><!--$-->','<!--/-->New list</h2><button id="close" class="close-btn" aria-label="close" formnovalidate>','</button></header><div class="modal__body"><div class="form-input"><input type="hidden" name="users-id"','><label for="list-name">Name</label><div class="form-input"><input type="text" name="list-name" id="list-name-input" class="text-input"></div><label for="list-description">Description</label><input type="text" name="list-description" id="list-description-input" class="text-input"></div></div><footer class="modal__footer"><!--$-->','<!--/--><button class="btn btn-secondary" id="cancel" aria-label="close" formnovalidate autofocus>Cancel</button><button class="btn btn-primary" type="submit" autofocus>Create</button></footer></form></dialog>'];const $={width:24,height:24,fill:"#FFFFFF"};function G(e){const[a,{toggleNewListModalOpen:c}]=u(),r=M(b),[n,d]=g();return _(()=>{a.newListModalOpen&&n()?.showModal()}),o(j,i(),m("action",t(b,!0),!1),t(s(I,$)),t(s(F,$)),m("value",t(e.usersId,!0),!1),t(s(l,{get when(){return r.result},get children(){return o(Z,i(),w("color:","red"),t(r.result.message))}})))}var K=["<p",' style="','" role="alert" id="error-message">',"</p>"],T=["<dialog",' class="modal"><form',' method="post"><header class="modal__header"><h2 class="title"><!--$-->','<!--/-->Delete list</h2><button id="close" class="close-btn" aria-label="close" formnovalidate>','</button></header><div class="modal__body"><p class="type-subtitle-3">Delete Warning</p><p><span class="type-subtitle-4">Warning</span> You are about to delete a list, this cannot be undone. Click Delete if you are sure you want to proceed.</p></div><footer class="modal__footer"><!--$-->','<!--/--><button class="btn btn-secondary" id="cancel" aria-label="close" formnovalidate autofocus>Cancel</button><input type="hidden" name="lists-id"','><button class="btn btn-primary" type="submit" autofocus>Delete</button></footer></form></dialog>'];function V(){const e={width:24,height:24,fill:"#FFFFFF"},[a,c]=g(),[r,{toggleDeleteListModalOpen:n}]=u(),d=M(v);return _(()=>{r.deleteListModalOpen&&a()?.showModal()}),o(T,i(),m("action",t(v,!0),!1),t(s(L,e)),t(s(F,e)),t(s(l,{get when(){return d.result},get children(){return o(K,i(),w("color:","red"),t(d.result.message))}})),m("value",t(r.listsId,!0),!1))}var B=["<span",' class="list-length-alert"><!--$-->',"<!--/-->Maximum of 5 lists reached.</span>"],P=["<button",' class="','"',">Create new list <!--$-->","<!--/--></button>"],Q=["<main",' class="lists-main"><header class="header"><div class="title"><h1 class="type-display-1 gradient-title">My lists</h1><!--$-->',"<!--/--></div><!--$-->",'<!--/--></header><ul class="lists-list">',"</ul><!--$-->","<!--/--></main>"],X=["<span",' class="type-body-3">You have no lists. Click "Create new list" button above to get started </span>'];function kt(){const e={width:24,height:24},[a,{toggleNewListModalOpen:c}]=u();p(()=>O(),{deferStream:!0});const r=p(()=>S(),{deferStream:!0}),n=p(()=>R(),{deferStream:!0});return o(Q,i(),t(s(l,{get when(){return r()&&r().length===5},get children(){return o(B,i(),t(s(Y,h(e,{fill:"#f5b945"}))))}})),t(s(l,{get when(){return r()},get children(){return o(P,i(),`icon-btn btn-primary ${r().length<5?"":"btn-primary--disabled"}`,m("disabled",!(r().length<6),!0),t(s(I,h(e,{fill:"#FFFFFF"}))))}})),t(s(l,{get when(){return r()},get children(){return r()?.length===0?o(X,i()):s(x,{get each(){return r()},children:d=>s(q,d)})}})),t(s(l,{get when(){return n()},get children(){return[s(V,{}),s(G,{get usersId(){return n()?.usersId}})]}})))}export{kt as default};
