import{d as lt,g as U,s as Z,a as P,b as pt,c as q,e as dt,f as mt,h as F,i as ft,j as ht}from"./assets/backend-fKgEBaUj.js";import{createComponent as d,isServer as C,getRequestEvent as M,delegateEvents as gt,ssrElement as E,escape as $,mergeProps as At,ssr as w,renderToString as wt,renderToStream as $t,ssrHydrationKey as k,useAssets as St,NoHydration as tt,Hydration as kt,ssrAttribute as x,HydrationScript as yt}from"solid-js/web";import{children as vt,createMemo as D,getOwner as bt,untrack as Rt,Show as et,on as Et,createRoot as xt,createSignal as Ct,onCleanup as rt,sharedConfig as v,lazy as Mt,createComponent as Pt,Suspense as It,catchError as Lt,ErrorBoundary as Tt}from"solid-js";import{provideRequestEvent as Ut}from"solid-js/web/storage";import{createRouter as qt}from"radix3";/* empty css                       */import{g as O,r as ot,v as Dt}from"./assets/user-CQev0GBF.js";/* empty css                     */import{g as Ot,l as Ht,a as Nt,b as Ft,s as jt}from"./assets/lists-DMesHSiS.js";/* empty css                           */import{M as _t}from"./assets/index-6hp2qVrc.js";import{g as Bt}from"./assets/index-qVjEDydT.js";/* empty css                     *//* empty css                        */import{eventHandler as st}from"h3";import{S as Wt}from"./assets/index-DGFWRD0-.js";import{c as zt,a as Gt,R as Kt,g as Jt,b as Vt,d as j,e as Qt,s as _,m as Yt,f as Xt,k as Zt,h as te,n as ee}from"./assets/routing-BPjDSAJ2.js";import{H as nt}from"./assets/HttpStatusCode-DH8IeaZe.js";import"node:async_hooks";import"unctx";import"crypto";import"util";import"nanoid";import"dayjs";import"dayjs/plugin/utc.js";import"@zxcvbn-ts/core";import"@zxcvbn-ts/language-common";import"@zxcvbn-ts/language-en";import"dayjs/plugin/timezone.js";import"solid-js/store";function B(t){return async r=>{const e=U(r),s=await t(e);s&&await Z(r,s)}}function W(t){return async(r,e)=>{const s=U(r),o=await t(s,e);o&&await Z(r,o)}}function re({onRequest:t,onBeforeResponse:r}){return lt({onRequest:typeof t=="function"?B(t):Array.isArray(t)?t.map(B):void 0,onBeforeResponse:typeof r=="function"?W(r):Array.isArray(r)?r.map(W):void 0})}function I(t){try{return new URL(t)?.host||null}catch{return null}}function oe(t,r){if(!t||r.length===0)return!1;const e=I(t);if(!e)return!1;for(const s of r){let o;if(s.startsWith("http://")||s.startsWith("https://")?o=I(s):o=I("https://"+s),e===o)return!0}return!1}function se(t){if(t.request.method!=="GET"){const r=(P(t.nativeEvent,"Origin")||P(t.nativeEvent,"Referrer"))??null,e=P(t.nativeEvent,"Host")??null;if(!r||!e||!oe(r,[e]))throw console.info(`Invalid origin request: ${r} ${e}`),new Error("Invalid origin")}}const ne=async t=>{try{se(t)}catch{t.nativeEvent.respondWith(new Response(null,{status:403}));return}},z=re({onRequest:[ne]}),it=t=>r=>{const{base:e}=r,s=vt(()=>r.children),o=D(()=>zt(s(),r.base||""));let n;const i=Gt(t,o,()=>n,{base:e,singleFlight:r.singleFlight,transformUrl:r.transformUrl});return t.create&&t.create(i),d(Kt.Provider,{value:i,get children(){return d(ie,{routerState:i,get root(){return r.root},get preload(){return r.rootPreload||r.rootLoad},get children(){return[(n=bt())&&null,d(ae,{routerState:i,get branches(){return o()}})]}})}})};function ie(t){const r=t.routerState.location,e=t.routerState.params,s=D(()=>t.preload&&Rt(()=>{_(!0),t.preload({params:e,location:r,intent:Jt()||"initial"}),_(!1)}));return d(et,{get when(){return t.root},keyed:!0,get fallback(){return t.children},children:o=>d(o,{params:e,location:r,get data(){return s()},get children(){return t.children}})})}function ae(t){if(C){const o=M();if(o&&o.router&&o.router.dataOnly){ce(o,t.routerState,t.branches);return}o&&((o.router||(o.router={})).matches||(o.router.matches=t.routerState.matches().map(({route:n,path:i,params:a})=>({path:n.originalPath,pattern:n.pattern,match:i,params:a,info:n.info}))))}const r=[];let e;const s=D(Et(t.routerState.matches,(o,n,i)=>{let a=n&&o.length===n.length;const u=[];for(let l=0,g=o.length;l<g;l++){const y=n&&n[l],S=o[l];i&&y&&S.route.key===y.route.key?u[l]=i[l]:(a=!1,r[l]&&r[l](),xt(f=>{r[l]=f,u[l]=Vt(t.routerState,u[l-1]||t.routerState.base,G(()=>s()[l+1]),()=>t.routerState.matches()[l])}))}return r.splice(o.length).forEach(l=>l()),i&&a?i:(e=u[0],u)}));return G(()=>s()&&e)()}const G=t=>()=>d(et,{get when(){return t()},keyed:!0,children:r=>d(Qt.Provider,{value:r,get children(){return r.outlet()}})});function ce(t,r,e){const s=new URL(t.request.url),o=j(e,new URL(t.router.previousUrl||t.request.url).pathname),n=j(e,s.pathname);for(let i=0;i<n.length;i++){(!o[i]||n[i].route!==o[i].route)&&(t.router.dataOnly=!0);const{route:a,params:u}=n[i];a.preload&&a.preload({params:u,location:r.location,intent:"preload"})}}function ue([t,r],e,s){return[t,s?o=>r(s(o)):r]}function le(t){let r=!1;const e=o=>typeof o=="string"?{value:o}:o,s=ue(Ct(e(t.get()),{equals:(o,n)=>o.value===n.value&&o.state===n.state}),void 0,o=>(!r&&t.set(o),v.registry&&!v.done&&(v.done=!0),o));return t.init&&rt(t.init((o=t.get())=>{r=!0,s[1](e(o)),r=!1})),it({signal:s,create:t.create,utils:t.utils})}function pe(t,r,e){return t.addEventListener(r,e),()=>t.removeEventListener(r,e)}function de(t,r){const e=t&&document.getElementById(t);e?e.scrollIntoView():r&&window.scrollTo(0,0)}function me(t){const r=new URL(t);return r.pathname+r.search}function fe(t){let r;const e={value:t.url||(r=M())&&me(r.request.url)||""};return it({signal:[()=>e,s=>Object.assign(e,s)]})(t)}function he(t=!0,r=!1,e="/_server",s){return o=>{const n=o.base.path(),i=o.navigatorFactory(o.base);let a,u;function l(c){return c.namespaceURI==="http://www.w3.org/2000/svg"}function g(c){if(c.defaultPrevented||c.button!==0||c.metaKey||c.altKey||c.ctrlKey||c.shiftKey)return;const p=c.composedPath().find(N=>N instanceof Node&&N.nodeName.toUpperCase()==="A");if(!p||r&&!p.hasAttribute("link"))return;const h=l(p),m=h?p.href.baseVal:p.href;if((h?p.target.baseVal:p.target)||!m&&!p.hasAttribute("state"))return;const b=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||b&&b.includes("external"))return;const R=h?new URL(m,document.baseURI):new URL(m);if(!(R.origin!==window.location.origin||n&&R.pathname&&!R.pathname.toLowerCase().startsWith(n.toLowerCase())))return[p,R]}function y(c){const p=g(c);if(!p)return;const[h,m]=p,H=o.parsePath(m.pathname+m.search+m.hash),b=h.getAttribute("state");c.preventDefault(),i(H,{resolve:!1,replace:h.hasAttribute("replace"),scroll:!h.hasAttribute("noscroll"),state:b?JSON.parse(b):void 0})}function S(c){const p=g(c);if(!p)return;const[h,m]=p;s&&(m.pathname=s(m.pathname)),o.preloadRoute(m,h.getAttribute("preload")!=="false")}function f(c){clearTimeout(a);const p=g(c);if(!p)return u=null;const[h,m]=p;u!==h&&(s&&(m.pathname=s(m.pathname)),a=setTimeout(()=>{o.preloadRoute(m,h.getAttribute("preload")!=="false"),u=h},20))}function A(c){if(c.defaultPrevented)return;let p=c.submitter&&c.submitter.hasAttribute("formaction")?c.submitter.getAttribute("formaction"):c.target.getAttribute("action");if(!p)return;if(!p.startsWith("https://action/")){const m=new URL(p,Yt);if(p=o.parsePath(m.pathname+m.search),!p.startsWith(e))return}if(c.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const h=pt.get(p);if(h){c.preventDefault();const m=new FormData(c.target,c.submitter);h.call({r:o,f:c.target},c.target.enctype==="multipart/form-data"?m:new URLSearchParams(m))}}gt(["click","submit"]),document.addEventListener("click",y),t&&(document.addEventListener("mousemove",f,{passive:!0}),document.addEventListener("focusin",S,{passive:!0}),document.addEventListener("touchstart",S,{passive:!0})),document.addEventListener("submit",A),rt(()=>{document.removeEventListener("click",y),t&&(document.removeEventListener("mousemove",f),document.removeEventListener("focusin",S),document.removeEventListener("touchstart",S)),document.removeEventListener("submit",A)})}}function ge(t){if(C)return fe(t);const r=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,o=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:o}},e=Xt();return le({get:r,set({value:s,replace:o,scroll:n,state:i}){o?window.history.replaceState(Zt(i),"",s):window.history.pushState(i,"",s),de(decodeURIComponent(window.location.hash.slice(1)),n),te()},init:s=>pe(window,"popstate",ee(s,o=>{if(o&&o<0)return!e.confirm(o);{const n=r();return!e.confirm(n.value,{state:n.state})}})),create:he(t.preload,t.explicitLinks,t.actionBase,t.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:e}})(t)}const Ae={preload:()=>O()},we={preload:()=>{O(),q(),Ot()}},$e={preload:({params:t})=>{O(),Ht(Number(t.id)),Nt(Number(t.id))}},Se={preload:({params:t})=>{q(),Ft(Number(t.id)),jt(Number(t.id)),Bt(Number(t.id))}},ke={preload:()=>ot()},ye={load(){ot()}},ve={preload:({params:t})=>Dt(t.code)},be={preload:()=>q()},at=[{page:!0,$component:{src:"src/routes/(root)/account.tsx?pick=default&pick=$css",build:()=>import("./account.js"),import:()=>import("./account.js")},$$route:{require:()=>({route:Ae}),src:"src/routes/(root)/account.tsx?pick=route"},path:"/(root)/account",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/account.tsx"},{page:!0,$component:{src:"src/routes/(root)/email-verified.jsx?pick=default&pick=$css",build:()=>import("./email-verified.js"),import:()=>import("./email-verified.js")},path:"/(root)/email-verified",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/email-verified.jsx"},{page:!0,$component:{src:"src/routes/(root)/expired.tsx?pick=default&pick=$css",build:()=>import("./expired.js"),import:()=>import("./expired.js")},path:"/(root)/expired",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/expired.tsx"},{page:!0,$component:{src:"src/routes/(root)/forgot-password.tsx?pick=default&pick=$css",build:()=>import("./forgot-password.js"),import:()=>import("./forgot-password.js")},path:"/(root)/forgot-password",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/forgot-password.tsx"},{page:!0,$component:{src:"src/routes/(root)/getting-started.tsx?pick=default&pick=$css",build:()=>import("./getting-started.js"),import:()=>import("./getting-started.js")},path:"/(root)/getting-started",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/getting-started.tsx"},{page:!0,$component:{src:"src/routes/(root)/index.tsx?pick=default&pick=$css",build:()=>import("./index.js"),import:()=>import("./index.js")},path:"/(root)/",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/index.tsx"},{page:!0,$component:{src:"src/routes/(root)/lists/[...lists].tsx?pick=default&pick=$css",build:()=>import("./_...lists_.js"),import:()=>import("./_...lists_.js")},$$route:{require:()=>({route:we}),src:"src/routes/(root)/lists/[...lists].tsx?pick=route"},path:"/(root)/lists/*lists",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/lists/[...lists].tsx"},{page:!0,$component:{src:"src/routes/(root)/lists/[id].tsx?pick=default&pick=$css",build:()=>import("./_id_.js"),import:()=>import("./_id_.js")},$$route:{require:()=>({route:$e}),src:"src/routes/(root)/lists/[id].tsx?pick=route"},path:"/(root)/lists/:id",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/lists/[id].tsx"},{page:!0,$component:{src:"src/routes/(root)/locations/[id].tsx?pick=default&pick=$css",build:()=>import("./_id_2.js"),import:()=>import("./_id_2.js")},$$route:{require:()=>({route:Se}),src:"src/routes/(root)/locations/[id].tsx?pick=route"},path:"/(root)/locations/:id",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/locations/[id].tsx"},{page:!0,$component:{src:"src/routes/(root)/login.tsx?pick=default&pick=$css",build:()=>import("./login.js"),import:()=>import("./login.js")},$$route:{require:()=>({route:ke}),src:"src/routes/(root)/login.tsx?pick=route"},path:"/(root)/login",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/login.tsx"},{page:!0,$component:{src:"src/routes/(root)/new-password.tsx?pick=default&pick=$css",build:()=>import("./new-password.js"),import:()=>import("./new-password.js")},path:"/(root)/new-password",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/new-password.tsx"},{page:!0,$component:{src:"src/routes/(root)/password-email.tsx?pick=default&pick=$css",build:()=>import("./password-email.js"),import:()=>import("./password-email.js")},path:"/(root)/password-email",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/password-email.tsx"},{page:!0,$component:{src:"src/routes/(root)/register.tsx?pick=default&pick=$css",build:()=>import("./register.js"),import:()=>import("./register.js")},$$route:{require:()=>({route:ye}),src:"src/routes/(root)/register.tsx?pick=route"},path:"/(root)/register",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/register.tsx"},{page:!0,$component:{src:"src/routes/(root)/verify/[code].tsx?pick=default&pick=$css",build:()=>import("./_code_.js"),import:()=>import("./_code_.js")},$$route:{require:()=>({route:ve}),src:"src/routes/(root)/verify/[code].tsx?pick=route"},path:"/(root)/verify/:code",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/verify/[code].tsx"},{page:!0,$component:{src:"src/routes/(root)/verify-email.jsx?pick=default&pick=$css",build:()=>import("./verify-email.js"),import:()=>import("./verify-email.js")},path:"/(root)/verify-email",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/verify-email.jsx"},{page:!0,$component:{src:"src/routes/(root).tsx?pick=default&pick=$css",build:()=>import("./(root).js"),import:()=>import("./(root).js")},$$route:{require:()=>({route:be}),src:"src/routes/(root).tsx?pick=route"},path:"/(root)",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root).tsx"},{page:!0,$component:{src:"src/routes/[...404].jsx?pick=default&pick=$css",build:()=>import("./_...404_.js"),import:()=>import("./_...404_.js")},path:"/*404",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/[...404].jsx"}],Re=Ee(at.filter(t=>t.page));function Ee(t){function r(e,s,o,n){const i=Object.values(e).find(a=>o.startsWith(a.id+"/"));return i?(r(i.children||(i.children=[]),s,o.slice(i.id.length)),e):(e.push({...s,id:o,path:o.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/")}),e)}return t.sort((e,s)=>e.path.length-s.path.length).reduce((e,s)=>r(e,s,s.path,s.path),[])}function xe(t,r){const e=Me.lookup(t);if(e&&e.route){const s=e.route,o=r==="HEAD"?s.$HEAD||s.$GET:s[`$${r}`];if(o===void 0)return;const n=s.page===!0&&s.$component!==void 0;return{handler:o,params:e.params,isPage:n}}}function Ce(t){return t.$HEAD||t.$GET||t.$POST||t.$PUT||t.$PATCH||t.$DELETE}const Me=qt({routes:at.reduce((t,r)=>{if(!Ce(r))return t;let e=r.path.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/").replace(/\*([^/]*)/g,(s,o)=>`**:${o}`).split("/").map(s=>s.startsWith(":")||s.startsWith("*")?s:encodeURIComponent(s)).join("/");if(/:[^/]*\?/g.test(e))throw new Error(`Optional parameters are not supported in API routes: ${e}`);if(t[e])throw new Error(`Duplicate API routes for "${e}" found at "${t[e].route.path}" and "${r.path}"`);return t[e]={route:r},t},{})});function Pe(t){t.forEach(r=>{if(!r.attrs.href)return;let e=document.head.querySelector(`link[href="${r.attrs.href}"]`);e||(e=document.createElement("link"),e.setAttribute("rel","preload"),e.setAttribute("as","style"),e.setAttribute("href",r.attrs.href),document.head.appendChild(e))})}var Ie=" ";const Le={style:t=>E("style",t.attrs,()=>t.children,!0),link:t=>E("link",t.attrs,void 0,!0),script:t=>t.attrs.src?E("script",At(()=>t.attrs,{get id(){return t.key}}),()=>w(Ie),!0):null,noscript:t=>E("noscript",t.attrs,()=>$(t.children),!0)};function L(t,r){let{tag:e,attrs:{key:s,...o}={key:void 0},children:n}=t;return Le[e]({attrs:{...o,nonce:r},key:s,children:n})}function Te(t,r,e,s="default"){return Mt(async()=>{{const n=(await t.import())[s],a=(await r.inputs?.[t.src].assets()).filter(l=>l.tag==="style"||l.attrs.rel==="stylesheet");return typeof window<"u"&&Pe(a),{default:l=>[...a.map(g=>L(g)),Pt(n,l)]}}})}function ct(){function t(e){return{...e,...e.$$route?e.$$route.require().route:void 0,info:{...e.$$route?e.$$route.require().route.info:{},filesystem:!0},component:e.$component&&Te(e.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:e.children?e.children.map(t):void 0}}return Re.map(t)}let K;const Ue=C?()=>M().routes:()=>K||(K=ct());function qe(t){const r=dt(t.nativeEvent,"flash");if(r)try{let e=JSON.parse(r);if(!e||!e.result)return;const s=[...e.input.slice(0,-1),new Map(e.input[e.input.length-1])],o=e.error?new Error(e.result):e.result;return{input:s,url:e.url,pending:!1,result:e.thrown?void 0:o,error:e.thrown?o:void 0}}catch(e){console.error(e)}finally{mt(t.nativeEvent,"flash","",{maxAge:0})}}async function De(t){const r=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,t.response.headers.set("Content-Type","text/html"),Object.assign(t,{manifest:await r.json(),assets:[...await r.inputs[r.handler].assets()],router:{submission:qe(t)},routes:ct(),complete:!1,$islands:new Set})}const Oe=new Set([301,302,303,307,308]);function T(t){return t.status&&Oe.has(t.status)?t.status:302}function He(t,r,e={},s){return st({handler:o=>{const n=U(o);return Ut(n,async()=>{const i=xe(new URL(n.request.url).pathname,n.request.method);if(i){const f=await i.handler.import(),A=n.request.method==="HEAD"?f.HEAD||f.GET:f[n.request.method];n.params=i.params||{},v.context={event:n};const c=await A(n);if(c!==void 0)return c;if(n.request.method!=="GET")throw new Error(`API handler for ${n.request.method} "${n.request.url}" did not return a response.`);if(!i.isPage)return}const a=await r(n),u=typeof e=="function"?await e(a):{...e},l=u.mode||"stream";if(u.nonce&&(a.nonce=u.nonce),l==="sync"){const f=wt(()=>(v.context.event=a,t(a)),u);if(a.complete=!0,a.response&&a.response.headers.get("Location")){const A=T(a.response);return F(o,a.response.headers.get("Location"),A)}return f}if(u.onCompleteAll){const f=u.onCompleteAll;u.onCompleteAll=A=>{V(a)(A),f(A)}}else u.onCompleteAll=V(a);if(u.onCompleteShell){const f=u.onCompleteShell;u.onCompleteShell=A=>{J(a,o)(),f(A)}}else u.onCompleteShell=J(a,o);const g=$t(()=>(v.context.event=a,t(a)),u);if(a.response&&a.response.headers.get("Location")){const f=T(a.response);return F(o,a.response.headers.get("Location"),f)}if(l==="async")return g;const{writable:y,readable:S}=new TransformStream;return g.pipeTo(y),S})}})}function J(t,r){return()=>{if(t.response&&t.response.headers.get("Location")){const e=T(t.response);ft(r,e),ht(r,"Location",t.response.headers.get("Location"))}}}function V(t){return({write:r})=>{t.complete=!0;const e=t.response&&t.response.headers.get("Location");e&&r(`<script>window.location="${e}"<\/script>`)}}function Ne(t,r,e){return He(t,De,r)}function Fe(){return d(Wt,{get children(){return d(ge,{singleFlight:!0,root:t=>d(_t,{get children(){return d(It,{get children(){return t.children}})}}),get children(){return d(Ue,{})}})}})}var je=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">',"</span>"],_e=["<span",' style="font-size:1.5em;text-align:center;position:fixed;left:0px;bottom:55%;width:100%;">500 | Internal Server Error</span>'];const Be=t=>{const r=C?"500 | Internal Server Error":"Error | Uncaught Client Exception";return d(Tt,{fallback:e=>(console.error(e),[w(je,k(),$(r)),d(nt,{code:500})]),get children(){return t.children}})},We=t=>{let r=!1;const e=Lt(()=>t.children,s=>{console.error(s),r=!!s});return r?[w(_e,k()),d(nt,{code:500})]:e};var Q=["<script",">","<\/script>"],ze=["<script",' type="module"'," async","><\/script>"],Ge=["<script",' type="module" async',"><\/script>"];const Ke=w("<!DOCTYPE html>");function ut(t,r,e=[]){for(let s=0;s<r.length;s++){const o=r[s];if(o.path!==t[0].path)continue;let n=[...e,o];if(o.children){const i=t.slice(1);if(i.length===0||(n=ut(i,o.children,n),!n))continue}return n}}function Je(t){const r=M(),e=r.nonce;let s=[];return Promise.resolve().then(async()=>{let o=[];if(r.router&&r.router.matches){const n=[...r.router.matches];for(;n.length&&(!n[0].info||!n[0].info.filesystem);)n.shift();const i=n.length&&ut(n,r.routes);if(i){const a=globalThis.MANIFEST.client.inputs;for(let u=0;u<i.length;u++){const l=i[u],g=a[l.$component.src];o.push(g.assets())}}}s=await Promise.all(o).then(n=>[...new Map(n.flat().map(i=>[i.attrs.key,i])).values()].filter(i=>i.attrs.rel==="modulepreload"&&!r.assets.find(a=>a.attrs.key===i.attrs.key)))}),St(()=>s.length?s.map(o=>L(o)):void 0),d(tt,{get children(){return[Ke,d(We,{get children(){return d(t.document,{get assets(){return[d(yt,{}),r.assets.map(o=>L(o,e))]},get scripts(){return e?[w(Q,k()+x("nonce",$(e,!0),!1),`window.manifest = ${JSON.stringify(r.manifest)}`),w(ze,k(),x("nonce",$(e,!0),!1),x("src",$(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]:[w(Q,k(),`window.manifest = ${JSON.stringify(r.manifest)}`),w(Ge,k(),x("src",$(globalThis.MANIFEST.client.inputs[globalThis.MANIFEST.client.handler].output.path,!0),!1))]},get children(){return d(kt,{get children(){return d(Be,{get children(){return d(Fe,{})}})}})}})}})]}})}var Ve=['<head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>OpenAQ Explorer</title><link rel="icon" href="/favicon.ico" sizes="16x16 32x32"><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml">',"","</head>"],Qe=["<html",' lang="en">','<body><div id="app">',"</div><!--$-->","<!--/--></body></html>"],Y=["<script",' defer data-domain="explore.openaq.org" src="https://plausible.io/js/script.js"><\/script>'];const X=Ne(()=>d(Je,{document:({assets:t,children:r,scripts:e})=>w(Qe,k(),d(tt,{get children(){return w(Ve,Y[0]+k()+Y[1],$(t))}}),$(r),$(e))}),{mode:"async"}),xr=st({onRequest:z.onRequest,onBeforeResponse:z.onBeforeResponse,handler:X,websocket:X.__websocket__});export{xr as default};
