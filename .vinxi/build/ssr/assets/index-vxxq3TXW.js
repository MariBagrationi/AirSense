import{splitProps as w,createSignal as v,createEffect as u,untrack as b,onCleanup as h,For as C}from"solid-js";import{u as $}from"./maplibre-gl-Ukol7sIV.js";import f from"dayjs";import _ from"dayjs/plugin/relativeTime.js";import{ssr as n,ssrHydrationKey as a,ssrAttribute as i,escape as o,createComponent as r}from"solid-js/web";import{u as p}from"./index-DGFWRD0-.js";import{g as k,f as I}from"./lists-CQNjCx71.js";import{L as c}from"./lists-CnpuNbOq.js";import{c as L}from"./createAsync-Dqt8Sub7.js";import{A as M}from"./components-D-gQuZqx.js";const P=t=>{const[e]=$(),[d,l]=w(t,["position"]),[s,m]=v(null),g=new Map([["navigation",window.MapLib.NavigationControl],["scale",window.MapLib.ScaleControl],["attribution",window.MapLib.AttributionControl],["geolocate",window.MapLib.GeolocateControl],["fullscreen",window.MapLib.FullscreenControl],["logo",window.MapLib.LogoControl],["terrain",window.MapLib.TerrainControl]]);return u(()=>{b(()=>s()&&e.map.hasControl(s())&&e.map.removeControl(s())),m(l.custom||new(g.get(l.type||"navigation"))(l.options))}),u(()=>{e.map.hasControl(s())&&e.map.removeControl(s()),e.map.addControl(s(),d.position)}),h(()=>{e.map.hasControl(s())&&e.map.removeControl(s())}),null};f.extend(_);function q(t){return`${f(t).fromNow()}`}function z(t){return`${f(t).format("DD/MM/YYYY")}`}var y=["<div",' class="list-toggle"><label for="','" class="list-item-toggle"><!--$-->','<!--/--><button class="','"',">",'</button></label><input class="radio-input" type="radio" name="','" id="','" value="1"','><input class="radio-input" type="radio" name="','" id="','" value="0"',"></div>"],N=["<div",' class="list-form-container"><div class="','"><form',' method="post" class="list-modify-form"><input type="hidden" name="sensor-nodes-id"','><input type="hidden" name="redirect"','><div class="lists-list">',"</div></form></div><!--$-->","<!--/--></div>"],x=["<button",' class="icon-btn btn-secondary">Add to list<!--$-->',"<!--/--></button>"];function A(t){const[e]=p();return n(y,a(),`list-${o(t.list.listsId,!0)}`,o(t.list.label),`list-btn ${t.list.sensorNodesIds.indexOf(e.locationsId)!==-1?"list-btn--active":""}`,i("value",o(String(t.list.sensorNodesIds.indexOf(e.locationsId)===-1),!0),!1),t.list.sensorNodesIds.indexOf(e.locationsId)===-1?o(r(c,{height:24,width:24})):o(r(c,{height:24,width:24})),`list-${o(t.list.listsId,!0)}`,`list-${o(t.list.listsId,!0)}-on`,i("checked",t.list.sensorNodesIds.indexOf(e.locationsId)!==-1,!0),`list-${o(t.list.listsId,!0)}`,`list-${o(t.list.listsId,!0)}-off`,i("checked",t.list.sensorNodesIds.indexOf(e.locationsId)===-1,!0))}function B(t){const[e]=p(),d=L(()=>k()),[l,s]=v(!1);return n(N,a(),`lists-form ${l()?"lists-form--open":""}`,i("action",o(I,!0),!1),i("value",o(e.locationsId,!0),!1),i("value",o(t.redirect,!0),!1),o(r(C,{get each(){return d()},children:m=>r(A,{list:m})})),d()?.length===0?o(r(M,{class:"icon-btn btn-secondary",href:"/lists",get children(){return["Add to list",r(c,{height:24,width:24,fill:"#0000ff",stroke:"#ff0000"})]}})):n(x,a(),o(r(c,{height:24,width:24,fill:"#0000ff",stroke:"#ff0000"}))))}var S=["<div",' class="reference-grade-marker"><div class="reference-grade-marker__border"></div><div class="reference-grade-marker__fill"></div></div>'],O=["<div",' class="low-cost-sensor-marker"><div class="low-cost-sensor-marker__fill"></div></div>'],D=["<div",' class="no-recent-data-marker"><div class="no-recent-data-marker__border"></div><div class="no-recent-data-marker__fill"></div><div class="no-recent-data-marker__dot"></div></div>'];function J(){return n(S,a())}function Q(){return n(O,a())}function V(){return n(D,a())}export{P as C,B as L,V as N,J as R,Q as a,z as s,q as t};
