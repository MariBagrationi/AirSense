import{d as it,g as ne,s as Me,a as D,b as ae,c as nt,e as at,m as fe,f as me,h as M,i as ot,p as lt}from"./backend-hM8sUyp6.js";import{lazy as ct,createComponent as ut,sharedConfig as Ce}from"solid-js";import{ssrElement as C,escape as pt,mergeProps as ht,ssr as dt,getRequestEvent as ft,isServer as mt,renderToString as gt}from"solid-js/web";import{provideRequestEvent as Te}from"solid-js/web/storage";import{eventHandler as Le}from"h3";import"node:async_hooks";/* empty css                */import{g as oe,r as Oe,v as yt}from"./user-C3LDJoBY.js";/* empty css              */import{g as bt,l as wt,a as St,b as vt,s as zt}from"./lists-DyZr50qf.js";/* empty css                    *//* empty css                 */import{g as _t}from"./index-vCJlFWMY.js";/* empty css              *//* empty css                 */function ge(e){return async t=>{const r=ne(t),i=await e(r);i&&await Me(t,i)}}function ye(e){return async(t,r)=>{const i=ne(t),n=await e(i,r);n&&await Me(t,n)}}function At({onRequest:e,onBeforeResponse:t}){return it({onRequest:typeof e=="function"?ge(e):Array.isArray(e)?e.map(ge):void 0,onBeforeResponse:typeof t=="function"?ye(t):Array.isArray(t)?t.map(ye):void 0})}function j(e){try{return new URL(e)?.host||null}catch{return null}}function xt(e,t){if(!e||t.length===0)return!1;const r=j(e);if(!r)return!1;for(const i of t){let n;if(i.startsWith("http://")||i.startsWith("https://")?n=j(i):n=j("https://"+i),r===n)return!0}return!1}function Rt(e){if(e.request.method!=="GET"){const t=(D(e.nativeEvent,"Origin")||D(e.nativeEvent,"Referrer"))??null,r=D(e.nativeEvent,"Host")??null;if(!t||!r||!xt(t,[r]))throw console.info(`Invalid origin request: ${t} ${r}`),new Error("Invalid origin")}}const It=async e=>{try{Rt(e)}catch{e.nativeEvent.respondWith(new Response(null,{status:403}));return}},be=At({onRequest:[It]});function kt(e,t){const r=(e||"").split(";").filter(c=>typeof c=="string"&&!!c.trim()),i=r.shift()||"",n=Et(i),a=n.name;let o=n.value;try{o=t?.decode===!1?o:(t?.decode||decodeURIComponent)(o)}catch{}const l={name:a,value:o};for(const c of r){const u=c.split("="),d=(u.shift()||"").trimStart().toLowerCase(),m=u.join("=");switch(d){case"expires":{l.expires=new Date(m);break}case"max-age":{l.maxAge=Number.parseInt(m,10);break}case"secure":{l.secure=!0;break}case"httponly":{l.httpOnly=!0;break}case"samesite":{l.sameSite=m;break}default:l[d]=m}}return l}function Et(e){let t="",r="";const i=e.split("=");return i.length>1?(t=i.shift(),r=i.join("=")):r=e,{name:t,value:r}}var Pt=(e=>(e[e.AggregateError=1]="AggregateError",e[e.ArrowFunction=2]="ArrowFunction",e[e.ErrorPrototypeStack=4]="ErrorPrototypeStack",e[e.ObjectAssign=8]="ObjectAssign",e[e.BigIntTypedArray=16]="BigIntTypedArray",e))(Pt||{});function $t(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r";case"\b":return"\\b";case"	":return"\\t";case"\f":return"\\f";case"<":return"\\x3C";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return}}function g(e){let t="",r=0,i;for(let n=0,a=e.length;n<a;n++)i=$t(e[n]),i&&(t+=e.slice(r,n)+i,r=n+1);return r===0?t=e:t+=e.slice(r),t}function Nt(e){switch(e){case"\\\\":return"\\";case'\\"':return'"';case"\\n":return`
`;case"\\r":return"\r";case"\\b":return"\b";case"\\t":return"	";case"\\f":return"\f";case"\\x3C":return"<";case"\\u2028":return"\u2028";case"\\u2029":return"\u2029";default:return e}}function v(e){return e.replace(/(\\\\|\\"|\\n|\\r|\\b|\\t|\\f|\\u2028|\\u2029|\\x3C)/g,Nt)}var x="__SEROVAL_REFS__",L="$R",T=`self.${L}`;function Ft(e){return e==null?`${T}=${T}||[]`:`(${T}=${T}||{})["${g(e)}"]=[]`}function w(e,t){if(!e)throw t}var De=new Map,z=new Map;function je(e){return De.has(e)}function Mt(e){return z.has(e)}function Ct(e){return w(je(e),new yr(e)),De.get(e)}function Tt(e){return w(Mt(e),new br(e)),z.get(e)}typeof globalThis<"u"?Object.defineProperty(globalThis,x,{value:z,configurable:!0,writable:!1,enumerable:!1}):typeof window<"u"?Object.defineProperty(window,x,{value:z,configurable:!0,writable:!1,enumerable:!1}):typeof self<"u"?Object.defineProperty(self,x,{value:z,configurable:!0,writable:!1,enumerable:!1}):typeof global<"u"&&Object.defineProperty(global,x,{value:z,configurable:!0,writable:!1,enumerable:!1});function Ve(e,t){for(let r=0,i=t.length;r<i;r++){let n=t[r];e.has(n)||(e.add(n),n.extends&&Ve(e,n.extends))}}function Ue(e){if(e){let t=new Set;return Ve(t,e),[...t]}}var Lt={0:"Symbol.asyncIterator",1:"Symbol.hasInstance",2:"Symbol.isConcatSpreadable",3:"Symbol.iterator",4:"Symbol.match",5:"Symbol.matchAll",6:"Symbol.replace",7:"Symbol.search",8:"Symbol.species",9:"Symbol.split",10:"Symbol.toPrimitive",11:"Symbol.toStringTag",12:"Symbol.unscopables"},qe={[Symbol.asyncIterator]:0,[Symbol.hasInstance]:1,[Symbol.isConcatSpreadable]:2,[Symbol.iterator]:3,[Symbol.match]:4,[Symbol.matchAll]:5,[Symbol.replace]:6,[Symbol.search]:7,[Symbol.species]:8,[Symbol.split]:9,[Symbol.toPrimitive]:10,[Symbol.toStringTag]:11,[Symbol.unscopables]:12},Ot={0:Symbol.asyncIterator,1:Symbol.hasInstance,2:Symbol.isConcatSpreadable,3:Symbol.iterator,4:Symbol.match,5:Symbol.matchAll,6:Symbol.replace,7:Symbol.search,8:Symbol.species,9:Symbol.split,10:Symbol.toPrimitive,11:Symbol.toStringTag,12:Symbol.unscopables},Dt={2:"!0",3:"!1",1:"void 0",0:"null",4:"-0",5:"1/0",6:"-1/0",7:"0/0"},jt={2:!0,3:!1,1:void 0,0:null,4:-0,5:Number.POSITIVE_INFINITY,6:Number.NEGATIVE_INFINITY,7:Number.NaN},Be={0:"Error",1:"EvalError",2:"RangeError",3:"ReferenceError",4:"SyntaxError",5:"TypeError",6:"URIError"},Vt={0:Error,1:EvalError,2:RangeError,3:ReferenceError,4:SyntaxError,5:TypeError,6:URIError},s=void 0;function h(e,t,r,i,n,a,o,l,c,u,d,m){return{t:e,i:t,s:r,l:i,c:n,m:a,p:o,e:l,a:c,f:u,b:d,o:m}}function S(e){return h(2,s,e,s,s,s,s,s,s,s,s,s)}var G=S(2),K=S(3),Ut=S(1),qt=S(0),Bt=S(4),Wt=S(5),Ht=S(6),Gt=S(7);function le(e){return e instanceof EvalError?1:e instanceof RangeError?2:e instanceof ReferenceError?3:e instanceof SyntaxError?4:e instanceof TypeError?5:e instanceof URIError?6:0}function Kt(e){let t=Be[le(e)];return e.name!==t?{name:e.name}:e.constructor.name!==t?{name:e.constructor.name}:{}}function we(e,t){let r=Kt(e),i=Object.getOwnPropertyNames(e);for(let n=0,a=i.length,o;n<a;n++)o=i[n],o!=="name"&&o!=="message"&&(o==="stack"?t&4&&(r=r||{},r[o]=e[o]):(r=r||{},r[o]=e[o]));return r}function We(e){return Object.isFrozen(e)?3:Object.isSealed(e)?2:Object.isExtensible(e)?0:1}function Xt(e){switch(e){case Number.POSITIVE_INFINITY:return Wt;case Number.NEGATIVE_INFINITY:return Ht}return e!==e?Gt:Object.is(e,-0)?Bt:h(0,s,e,s,s,s,s,s,s,s,s,s)}function X(e){return h(1,s,g(e),s,s,s,s,s,s,s,s,s)}function Yt(e){return h(3,s,""+e,s,s,s,s,s,s,s,s,s)}function Jt(e){return h(4,e,s,s,s,s,s,s,s,s,s,s)}function Zt(e,t){let r=t.valueOf();return h(5,e,r!==r?"":t.toISOString(),s,s,s,s,s,s,s,s,s)}function Qt(e,t){return h(6,e,s,s,g(t.source),t.flags,s,s,s,s,s,s)}function er(e,t){let r=new Uint8Array(t),i=r.length,n=new Array(i);for(let a=0;a<i;a++)n[a]=r[a];return h(19,e,n,s,s,s,s,s,s,s,s,s)}function tr(e,t){return h(17,e,qe[t],s,s,s,s,s,s,s,s,s)}function rr(e,t){return h(18,e,g(Ct(t)),s,s,s,s,s,s,s,s,s)}function He(e,t,r){return h(25,e,r,s,g(t),s,s,s,s,s,s,s)}function sr(e,t,r){return h(9,e,s,t.length,s,s,s,s,r,s,s,We(t))}function ir(e,t){return h(21,e,s,s,s,s,s,s,s,t,s,s)}function nr(e,t,r){return h(15,e,s,t.length,t.constructor.name,s,s,s,s,r,t.byteOffset,s)}function ar(e,t,r){return h(16,e,s,t.length,t.constructor.name,s,s,s,s,r,t.byteOffset,s)}function or(e,t,r){return h(20,e,s,t.byteLength,s,s,s,s,s,r,t.byteOffset,s)}function lr(e,t,r){return h(13,e,le(t),s,s,g(t.message),r,s,s,s,s,s)}function cr(e,t,r){return h(14,e,le(t),s,s,g(t.message),r,s,s,s,s,s)}function ur(e,t,r){return h(7,e,s,t,s,s,s,s,r,s,s,s)}function Ge(e,t){return h(28,s,s,s,s,s,s,s,[e,t],s,s,s)}function Ke(e,t){return h(30,s,s,s,s,s,s,s,[e,t],s,s,s)}function Xe(e,t,r){return h(31,e,s,s,s,s,s,s,r,t,s,s)}function pr(e,t){return h(32,e,s,s,s,s,s,s,s,t,s,s)}function hr(e,t){return h(33,e,s,s,s,s,s,s,s,t,s,s)}function dr(e,t){return h(34,e,s,s,s,s,s,s,s,t,s,s)}var{toString:ce}=Object.prototype;function fr(e,t){return t instanceof Error?`Seroval caught an error during the ${e} process.
  
${t.name}
${t.message}

- For more information, please check the "cause" property of this error.
- If you believe this is an error in Seroval, please submit an issue at https://github.com/lxsmnsyc/seroval/issues/new`:`Seroval caught an error during the ${e} process.

"${ce.call(t)}"

For more information, please check the "cause" property of this error.`}var ue=class extends Error{constructor(t,r){super(fr(t,r)),this.cause=r}},Se=class extends ue{constructor(e){super("parsing",e)}},mr=class extends ue{constructor(e){super("serialization",e)}},gr=class extends ue{constructor(e){super("deserialization",e)}},O=class extends Error{constructor(t){super(`The value ${ce.call(t)} of type "${typeof t}" cannot be parsed/serialized.
      
There are few workarounds for this problem:
- Transform the value in a way that it can be serialized.
- If the reference is present on multiple runtimes (isomorphic), you can use the Reference API to map the references.`),this.value=t}},Ye=class extends Error{constructor(t){super('Unsupported node type "'+t.t+'".')}},Je=class extends Error{constructor(t){super('Missing plugin for tag "'+t+'".')}},A=class extends Error{constructor(e){super('Missing "'+e+'" instance.')}},yr=class extends Error{constructor(t){super('Missing reference for the value "'+ce.call(t)+'" of type "'+typeof t+'"'),this.value=t}},br=class extends Error{constructor(e){super('Missing reference for id "'+g(e)+'"')}},wr=class extends Error{constructor(e){super('Unknown TypedArray "'+e+'"')}},Sr=class{constructor(t,r){this.value=t,this.replacement=r}};function I(e,t,r){return e&2?(t.length===1?t[0]:"("+t.join(",")+")")+"=>"+(r.startsWith("{")?"("+r+")":r):"function("+t.join(",")+"){return "+r+"}"}function y(e,t,r){return e&2?(t.length===1?t[0]:"("+t.join(",")+")")+"=>{"+r+"}":"function("+t.join(",")+"){"+r+"}"}var vr={},zr={},_r={0:{},1:{},2:{},3:{},4:{}};function Ar(e){return I(e,["r"],"(r.p=new Promise("+y(e,["s","f"],"r.s=s,r.f=f")+"))")}function xr(e){return y(e,["r","d"],"r.s(d),r.p.s=1,r.p.v=d")}function Rr(e){return y(e,["r","d"],"r.f(d),r.p.s=2,r.p.v=d")}function Ir(e){return I(e,["b","a","s","l","p","f","e","n"],"(b=[],a=!0,s=!1,l=[],p=0,f="+y(e,["v","m","x"],"for(x=0;x<p;x++)l[x]&&l[x][m](v)")+",n="+y(e,["o","x","z","c"],'for(x=0,z=b.length;x<z;x++)(c=b[x],(!a&&x===z-1)?o[s?"return":"throw"](c):o.next(c))')+",e="+I(e,["o","t"],"(a&&(l[t=p++]=o),n(o),"+y(e,[],"a&&(l[t]=void 0)")+")")+",{__SEROVAL_STREAM__:!0,on:"+I(e,["o"],"e(o)")+",next:"+y(e,["v"],'a&&(b.push(v),f(v,"next"))')+",throw:"+y(e,["v"],'a&&(b.push(v),f(v,"throw"),a=s=!1,l.length=0)')+",return:"+y(e,["v"],'a&&(b.push(v),f(v,"return"),a=!1,s=!0,l.length=0)')+"})")}function kr(e,t){switch(t){case 0:return"[]";case 1:return Ar(e);case 2:return xr(e);case 3:return Rr(e);case 4:return Ir(e);default:return""}}function Y(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve(r){e(r)},reject(r){t(r)}}}function Er(e){return"__SEROVAL_STREAM__"in e}function N(){let e=new Set,t=[],r=!0,i=!0;function n(l){for(let c of e.keys())c.next(l)}function a(l){for(let c of e.keys())c.throw(l)}function o(l){for(let c of e.keys())c.return(l)}return{__SEROVAL_STREAM__:!0,on(l){r&&e.add(l);for(let c=0,u=t.length;c<u;c++){let d=t[c];c===u-1&&!r?i?l.return(d):l.throw(d):l.next(d)}return()=>{r&&e.delete(l)}},next(l){r&&(t.push(l),n(l))},throw(l){r&&(t.push(l),a(l),r=!1,i=!1,e.clear())},return(l){r&&(t.push(l),o(l),r=!1,i=!0,e.clear())}}}function Pr(e){let t=N(),r=e[Symbol.asyncIterator]();async function i(){try{let n=await r.next();n.done?t.return(n.value):(t.next(n.value),await i())}catch(n){t.throw(n)}}return i().catch(()=>{}),t}function $r(e){return()=>{let t=[],r=[],i=0,n=-1,a=!1;function o(){for(let c=0,u=r.length;c<u;c++)r[c].resolve({done:!0,value:void 0})}e.on({next(c){let u=r.shift();u&&u.resolve({done:!1,value:c}),t.push(c)},throw(c){let u=r.shift();u&&u.reject(c),o(),n=t.length,t.push(c),a=!0},return(c){let u=r.shift();u&&u.resolve({done:!0,value:c}),o(),n=t.length,t.push(c)}});function l(){let c=i++,u=t[c];if(c!==n)return{done:!1,value:u};if(a)throw u;return{done:!0,value:u}}return{[Symbol.asyncIterator](){return this},async next(){if(n===-1){let c=i++;if(c>=t.length){let u=Y();return r.push(u),await u.promise}return{done:!1,value:t[c]}}return i>n?{done:!0,value:void 0}:l()}}}}function Ze(e){let t=[],r=-1,i=-1,n=e[Symbol.iterator]();for(;;)try{let a=n.next();if(t.push(a.value),a.done){i=t.length-1;break}}catch(a){r=t.length,t.push(a)}return{v:t,t:r,d:i}}function Nr(e){return()=>{let t=0;return{[Symbol.iterator](){return this},next(){if(t>e.d)return{done:!0,value:s};let r=t++,i=e.v[r];if(r===e.t)throw i;return{done:r===e.d,value:i}}}}}var Fr=class{constructor(t){this.marked=new Set,this.plugins=t.plugins,this.features=31^(t.disabledFeatures||0),this.refs=t.refs||new Map}markRef(t){this.marked.add(t)}isMarked(t){return this.marked.has(t)}createIndex(t){let r=this.refs.size;return this.refs.set(t,r),r}getIndexedValue(t){let r=this.refs.get(t);return r!=null?(this.markRef(r),{type:1,value:Jt(r)}):{type:0,value:this.createIndex(t)}}getReference(t){let r=this.getIndexedValue(t);return r.type===1?r:je(t)?{type:2,value:rr(r.value,t)}:r}parseWellKnownSymbol(t){let r=this.getReference(t);return r.type!==0?r.value:(w(t in qe,new O(t)),tr(r.value,t))}parseSpecialReference(t){let r=this.getIndexedValue(_r[t]);return r.type===1?r.value:h(26,r.value,t,s,s,s,s,s,s,s,s,s)}parseIteratorFactory(){let t=this.getIndexedValue(vr);return t.type===1?t.value:h(27,t.value,s,s,s,s,s,s,s,this.parseWellKnownSymbol(Symbol.iterator),s,s)}parseAsyncIteratorFactory(){let t=this.getIndexedValue(zr);return t.type===1?t.value:h(29,t.value,s,s,s,s,s,s,[this.parseSpecialReference(1),this.parseWellKnownSymbol(Symbol.asyncIterator)],s,s,s)}createObjectNode(t,r,i,n){return h(i?11:10,t,s,s,s,s,n,s,s,s,s,We(r))}createMapNode(t,r,i,n){return h(8,t,s,s,s,s,s,{k:r,v:i,s:n},s,this.parseSpecialReference(0),s,s)}createPromiseConstructorNode(t,r){return h(22,t,r,s,s,s,s,s,s,this.parseSpecialReference(1),s,s)}};function Mr(e){switch(e){case"Int8Array":return Int8Array;case"Int16Array":return Int16Array;case"Int32Array":return Int32Array;case"Uint8Array":return Uint8Array;case"Uint16Array":return Uint16Array;case"Uint32Array":return Uint32Array;case"Uint8ClampedArray":return Uint8ClampedArray;case"Float32Array":return Float32Array;case"Float64Array":return Float64Array;case"BigInt64Array":return BigInt64Array;case"BigUint64Array":return BigUint64Array;default:throw new wr(e)}}function ve(e,t){switch(t){case 3:return Object.freeze(e);case 1:return Object.preventExtensions(e);case 2:return Object.seal(e);default:return e}}var Cr=class{constructor(e){this.plugins=e.plugins,this.refs=e.refs||new Map}deserializeReference(e){return this.assignIndexedValue(e.i,Tt(v(e.s)))}deserializeArray(e){let t=e.l,r=this.assignIndexedValue(e.i,new Array(t)),i;for(let n=0;n<t;n++)i=e.a[n],i&&(r[n]=this.deserialize(i));return ve(r,e.o),r}deserializeProperties(e,t){let r=e.s;if(r){let i=e.k,n=e.v;for(let a=0,o;a<r;a++)o=i[a],typeof o=="string"?t[v(o)]=this.deserialize(n[a]):t[this.deserialize(o)]=this.deserialize(n[a])}return t}deserializeObject(e){let t=this.assignIndexedValue(e.i,e.t===10?{}:Object.create(null));return this.deserializeProperties(e.p,t),ve(t,e.o),t}deserializeDate(e){return this.assignIndexedValue(e.i,new Date(e.s))}deserializeRegExp(e){return this.assignIndexedValue(e.i,new RegExp(v(e.c),e.m))}deserializeSet(e){let t=this.assignIndexedValue(e.i,new Set),r=e.a;for(let i=0,n=e.l;i<n;i++)t.add(this.deserialize(r[i]));return t}deserializeMap(e){let t=this.assignIndexedValue(e.i,new Map),r=e.e.k,i=e.e.v;for(let n=0,a=e.e.s;n<a;n++)t.set(this.deserialize(r[n]),this.deserialize(i[n]));return t}deserializeArrayBuffer(e){let t=new Uint8Array(e.s);return this.assignIndexedValue(e.i,t.buffer)}deserializeTypedArray(e){let t=Mr(e.c),r=this.deserialize(e.f);return this.assignIndexedValue(e.i,new t(r,e.b,e.l))}deserializeDataView(e){let t=this.deserialize(e.f);return this.assignIndexedValue(e.i,new DataView(t,e.b,e.l))}deserializeDictionary(e,t){if(e.p){let r=this.deserializeProperties(e.p,{});Object.assign(t,r)}return t}deserializeAggregateError(e){let t=this.assignIndexedValue(e.i,new AggregateError([],v(e.m)));return this.deserializeDictionary(e,t)}deserializeError(e){let t=Vt[e.s],r=this.assignIndexedValue(e.i,new t(v(e.m)));return this.deserializeDictionary(e,r)}deserializePromise(e){let t=Y(),r=this.assignIndexedValue(e.i,t),i=this.deserialize(e.f);return e.s?t.resolve(i):t.reject(i),r.promise}deserializeBoxed(e){return this.assignIndexedValue(e.i,Object(this.deserialize(e.f)))}deserializePlugin(e){let t=this.plugins;if(t){let r=v(e.c);for(let i=0,n=t.length;i<n;i++){let a=t[i];if(a.tag===r)return this.assignIndexedValue(e.i,a.deserialize(e.s,this,{id:e.i}))}}throw new Je(e.c)}deserializePromiseConstructor(e){return this.assignIndexedValue(e.i,this.assignIndexedValue(e.s,Y()).promise)}deserializePromiseResolve(e){let t=this.refs.get(e.i);w(t,new A("Promise")),t.resolve(this.deserialize(e.a[1]))}deserializePromiseReject(e){let t=this.refs.get(e.i);w(t,new A("Promise")),t.reject(this.deserialize(e.a[1]))}deserializeIteratorFactoryInstance(e){this.deserialize(e.a[0]);let t=this.deserialize(e.a[1]);return Nr(t)}deserializeAsyncIteratorFactoryInstance(e){this.deserialize(e.a[0]);let t=this.deserialize(e.a[1]);return $r(t)}deserializeStreamConstructor(e){let t=this.assignIndexedValue(e.i,N()),r=e.a.length;if(r)for(let i=0;i<r;i++)this.deserialize(e.a[i]);return t}deserializeStreamNext(e){let t=this.refs.get(e.i);w(t,new A("Stream")),t.next(this.deserialize(e.f))}deserializeStreamThrow(e){let t=this.refs.get(e.i);w(t,new A("Stream")),t.throw(this.deserialize(e.f))}deserializeStreamReturn(e){let t=this.refs.get(e.i);w(t,new A("Stream")),t.return(this.deserialize(e.f))}deserializeIteratorFactory(e){this.deserialize(e.f)}deserializeAsyncIteratorFactory(e){this.deserialize(e.a[1])}deserializeTop(e){try{return this.deserialize(e)}catch(t){throw new gr(t)}}deserialize(e){switch(e.t){case 2:return jt[e.s];case 0:return e.s;case 1:return v(e.s);case 3:return BigInt(e.s);case 4:return this.refs.get(e.i);case 18:return this.deserializeReference(e);case 9:return this.deserializeArray(e);case 10:case 11:return this.deserializeObject(e);case 5:return this.deserializeDate(e);case 6:return this.deserializeRegExp(e);case 7:return this.deserializeSet(e);case 8:return this.deserializeMap(e);case 19:return this.deserializeArrayBuffer(e);case 16:case 15:return this.deserializeTypedArray(e);case 20:return this.deserializeDataView(e);case 14:return this.deserializeAggregateError(e);case 13:return this.deserializeError(e);case 12:return this.deserializePromise(e);case 17:return Ot[e.s];case 21:return this.deserializeBoxed(e);case 25:return this.deserializePlugin(e);case 22:return this.deserializePromiseConstructor(e);case 23:return this.deserializePromiseResolve(e);case 24:return this.deserializePromiseReject(e);case 28:return this.deserializeIteratorFactoryInstance(e);case 30:return this.deserializeAsyncIteratorFactoryInstance(e);case 31:return this.deserializeStreamConstructor(e);case 32:return this.deserializeStreamNext(e);case 33:return this.deserializeStreamThrow(e);case 34:return this.deserializeStreamReturn(e);case 27:return this.deserializeIteratorFactory(e);case 29:return this.deserializeAsyncIteratorFactory(e);default:throw new Ye(e)}}},Tr=/^[$A-Z_][0-9A-Z_$]*$/i;function ze(e){let t=e[0];return(t==="$"||t==="_"||t>="A"&&t<="Z"||t>="a"&&t<="z")&&Tr.test(e)}function R(e){switch(e.t){case 0:return e.s+"="+e.v;case 2:return e.s+".set("+e.k+","+e.v+")";case 1:return e.s+".add("+e.v+")";case 3:return e.s+".delete("+e.k+")"}}function Lr(e){let t=[],r=e[0];for(let i=1,n=e.length,a,o=r;i<n;i++)a=e[i],a.t===0&&a.v===o.v?r={t:0,s:a.s,k:s,v:R(r)}:a.t===2&&a.s===o.s?r={t:2,s:R(r),k:a.k,v:a.v}:a.t===1&&a.s===o.s?r={t:1,s:R(r),k:s,v:a.v}:a.t===3&&a.s===o.s?r={t:3,s:R(r),k:a.k,v:s}:(t.push(r),r=a),o=a;return t.push(r),t}function _e(e){if(e.length){let t="",r=Lr(e);for(let i=0,n=r.length;i<n;i++)t+=R(r[i])+",";return t}return s}var Or="Object.create(null)",Dr="new Set",jr="new Map",Vr="Promise.resolve",Ur="Promise.reject",qr={3:"Object.freeze",2:"Object.seal",1:"Object.preventExtensions",0:s},Br=class{constructor(e){this.stack=[],this.flags=[],this.assignments=[],this.plugins=e.plugins,this.features=e.features,this.marked=new Set(e.markedRefs)}createFunction(e,t){return I(this.features,e,t)}createEffectfulFunction(e,t){return y(this.features,e,t)}markRef(e){this.marked.add(e)}isMarked(e){return this.marked.has(e)}pushObjectFlag(e,t){e!==0&&(this.markRef(t),this.flags.push({type:e,value:this.getRefParam(t)}))}resolveFlags(){let e="";for(let t=0,r=this.flags,i=r.length;t<i;t++){let n=r[t];e+=qr[n.type]+"("+n.value+"),"}return e}resolvePatches(){let e=_e(this.assignments),t=this.resolveFlags();return e?t?e+t:e:t}createAssignment(e,t){this.assignments.push({t:0,s:e,k:s,v:t})}createAddAssignment(e,t){this.assignments.push({t:1,s:this.getRefParam(e),k:s,v:t})}createSetAssignment(e,t,r){this.assignments.push({t:2,s:this.getRefParam(e),k:t,v:r})}createDeleteAssignment(e,t){this.assignments.push({t:3,s:this.getRefParam(e),k:t,v:s})}createArrayAssign(e,t,r){this.createAssignment(this.getRefParam(e)+"["+t+"]",r)}createObjectAssign(e,t,r){this.createAssignment(this.getRefParam(e)+"."+t,r)}isIndexedValueInStack(e){return e.t===4&&this.stack.includes(e.i)}serializeReference(e){return this.assignIndexedValue(e.i,x+'.get("'+e.s+'")')}serializeArrayItem(e,t,r){return t?this.isIndexedValueInStack(t)?(this.markRef(e),this.createArrayAssign(e,r,this.getRefParam(t.i)),""):this.serialize(t):""}serializeArray(e){let t=e.i;if(e.l){this.stack.push(t);let r=e.a,i=this.serializeArrayItem(t,r[0],0),n=i==="";for(let a=1,o=e.l,l;a<o;a++)l=this.serializeArrayItem(t,r[a],a),i+=","+l,n=l==="";return this.stack.pop(),this.pushObjectFlag(e.o,e.i),this.assignIndexedValue(t,"["+i+(n?",]":"]"))}return this.assignIndexedValue(t,"[]")}serializeProperty(e,t,r){if(typeof t=="string"){let i=Number(t),n=i>=0&&i.toString()===t||ze(t);if(this.isIndexedValueInStack(r)){let a=this.getRefParam(r.i);return this.markRef(e.i),n&&i!==i?this.createObjectAssign(e.i,t,a):this.createArrayAssign(e.i,n?t:'"'+t+'"',a),""}return(n?t:'"'+t+'"')+":"+this.serialize(r)}return"["+this.serialize(t)+"]:"+this.serialize(r)}serializeProperties(e,t){let r=t.s;if(r){let i=t.k,n=t.v;this.stack.push(e.i);let a=this.serializeProperty(e,i[0],n[0]);for(let o=1,l=a;o<r;o++)l=this.serializeProperty(e,i[o],n[o]),a+=(l&&a&&",")+l;return this.stack.pop(),"{"+a+"}"}return"{}"}serializeObject(e){return this.pushObjectFlag(e.o,e.i),this.assignIndexedValue(e.i,this.serializeProperties(e,e.p))}serializeWithObjectAssign(e,t,r){let i=this.serializeProperties(e,t);return i!=="{}"?"Object.assign("+r+","+i+")":r}serializeStringKeyAssignment(e,t,r,i){let n=this.serialize(i),a=Number(r),o=a>=0&&a.toString()===r||ze(r);if(this.isIndexedValueInStack(i))o&&a!==a?this.createObjectAssign(e.i,r,n):this.createArrayAssign(e.i,o?r:'"'+r+'"',n);else{let l=this.assignments;this.assignments=t,o&&a!==a?this.createObjectAssign(e.i,r,n):this.createArrayAssign(e.i,o?r:'"'+r+'"',n),this.assignments=l}}serializeAssignment(e,t,r,i){if(typeof r=="string")this.serializeStringKeyAssignment(e,t,r,i);else{let n=this.stack;this.stack=[];let a=this.serialize(i);this.stack=n;let o=this.assignments;this.assignments=t,this.createArrayAssign(e.i,this.serialize(r),a),this.assignments=o}}serializeAssignments(e,t){let r=t.s;if(r){let i=[],n=t.k,a=t.v;this.stack.push(e.i);for(let o=0;o<r;o++)this.serializeAssignment(e,i,n[o],a[o]);return this.stack.pop(),_e(i)}return s}serializeDictionary(e,t){if(e.p)if(this.features&8)t=this.serializeWithObjectAssign(e,e.p,t);else{this.markRef(e.i);let r=this.serializeAssignments(e,e.p);if(r)return"("+this.assignIndexedValue(e.i,t)+","+r+this.getRefParam(e.i)+")"}return this.assignIndexedValue(e.i,t)}serializeNullConstructor(e){return this.pushObjectFlag(e.o,e.i),this.serializeDictionary(e,Or)}serializeDate(e){return this.assignIndexedValue(e.i,'new Date("'+e.s+'")')}serializeRegExp(e){return this.assignIndexedValue(e.i,"/"+e.c+"/"+e.m)}serializeSetItem(e,t){return this.isIndexedValueInStack(t)?(this.markRef(e),this.createAddAssignment(e,this.getRefParam(t.i)),""):this.serialize(t)}serializeSet(e){let t=Dr,r=e.l,i=e.i;if(r){let n=e.a;this.stack.push(i);let a=this.serializeSetItem(i,n[0]);for(let o=1,l=a;o<r;o++)l=this.serializeSetItem(i,n[o]),a+=(l&&a&&",")+l;this.stack.pop(),a&&(t+="(["+a+"])")}return this.assignIndexedValue(i,t)}serializeMapEntry(e,t,r,i){if(this.isIndexedValueInStack(t)){let n=this.getRefParam(t.i);if(this.markRef(e),this.isIndexedValueInStack(r)){let o=this.getRefParam(r.i);return this.createSetAssignment(e,n,o),""}if(r.t!==4&&r.i!=null&&this.isMarked(r.i)){let o="("+this.serialize(r)+",["+i+","+i+"])";return this.createSetAssignment(e,n,this.getRefParam(r.i)),this.createDeleteAssignment(e,i),o}let a=this.stack;return this.stack=[],this.createSetAssignment(e,n,this.serialize(r)),this.stack=a,""}if(this.isIndexedValueInStack(r)){let n=this.getRefParam(r.i);if(this.markRef(e),t.t!==4&&t.i!=null&&this.isMarked(t.i)){let o="("+this.serialize(t)+",["+i+","+i+"])";return this.createSetAssignment(e,this.getRefParam(t.i),n),this.createDeleteAssignment(e,i),o}let a=this.stack;return this.stack=[],this.createSetAssignment(e,this.serialize(t),n),this.stack=a,""}return"["+this.serialize(t)+","+this.serialize(r)+"]"}serializeMap(e){let t=jr,r=e.e.s,i=e.i,n=e.f,a=this.getRefParam(n.i);if(r){let o=e.e.k,l=e.e.v;this.stack.push(i);let c=this.serializeMapEntry(i,o[0],l[0],a);for(let u=1,d=c;u<r;u++)d=this.serializeMapEntry(i,o[u],l[u],a),c+=(d&&c&&",")+d;this.stack.pop(),c&&(t+="(["+c+"])")}return n.t===26&&(this.markRef(n.i),t="("+this.serialize(n)+","+t+")"),this.assignIndexedValue(i,t)}serializeArrayBuffer(e){let t="new Uint8Array(",r=e.s,i=r.length;if(i){t+="["+r[0];for(let n=1;n<i;n++)t+=","+r[n];t+="]"}return this.assignIndexedValue(e.i,t+").buffer")}serializeTypedArray(e){return this.assignIndexedValue(e.i,"new "+e.c+"("+this.serialize(e.f)+","+e.b+","+e.l+")")}serializeDataView(e){return this.assignIndexedValue(e.i,"new DataView("+this.serialize(e.f)+","+e.b+","+e.l+")")}serializeAggregateError(e){let t=e.i;this.stack.push(t);let r=this.serializeDictionary(e,'new AggregateError([],"'+e.m+'")');return this.stack.pop(),r}serializeError(e){return this.serializeDictionary(e,"new "+Be[e.s]+'("'+e.m+'")')}serializePromise(e){let t,r=e.f,i=e.i,n=e.s?Vr:Ur;if(this.isIndexedValueInStack(r)){let a=this.getRefParam(r.i);t=n+(e.s?"().then("+this.createFunction([],a)+")":"().catch("+this.createEffectfulFunction([],"throw "+a)+")")}else{this.stack.push(i);let a=this.serialize(r);this.stack.pop(),t=n+"("+a+")"}return this.assignIndexedValue(i,t)}serializeWellKnownSymbol(e){return this.assignIndexedValue(e.i,Lt[e.s])}serializeBoxed(e){return this.assignIndexedValue(e.i,"Object("+this.serialize(e.f)+")")}serializePlugin(e){let t=this.plugins;if(t)for(let r=0,i=t.length;r<i;r++){let n=t[r];if(n.tag===e.c)return this.assignIndexedValue(e.i,n.serialize(e.s,this,{id:e.i}))}throw new Je(e.c)}getConstructor(e){let t=this.serialize(e);return t===this.getRefParam(e.i)?t:"("+t+")"}serializePromiseConstructor(e){let t=this.assignIndexedValue(e.s,"{p:0,s:0,f:0}");return this.assignIndexedValue(e.i,this.getConstructor(e.f)+"("+t+")")}serializePromiseResolve(e){return this.getConstructor(e.a[0])+"("+this.getRefParam(e.i)+","+this.serialize(e.a[1])+")"}serializePromiseReject(e){return this.getConstructor(e.a[0])+"("+this.getRefParam(e.i)+","+this.serialize(e.a[1])+")"}serializeSpecialReference(e){return this.assignIndexedValue(e.i,kr(this.features,e.s))}serializeIteratorFactory(e){let t="",r=!1;return e.f.t!==4&&(this.markRef(e.f.i),t="("+this.serialize(e.f)+",",r=!0),t+=this.assignIndexedValue(e.i,this.createFunction(["s"],this.createFunction(["i","c","d","t"],"(i=0,t={["+this.getRefParam(e.f.i)+"]:"+this.createFunction([],"t")+",next:"+this.createEffectfulFunction([],"if(i>s.d)return{done:!0,value:void 0};if(d=s.v[c=i++],c===s.t)throw d;return{done:c===s.d,value:d}")+"})"))),r&&(t+=")"),t}serializeIteratorFactoryInstance(e){return this.getConstructor(e.a[0])+"("+this.serialize(e.a[1])+")"}serializeAsyncIteratorFactory(e){let t=e.a[0],r=e.a[1],i="";t.t!==4&&(this.markRef(t.i),i+="("+this.serialize(t)),r.t!==4&&(this.markRef(r.i),i+=(i?",":"(")+this.serialize(r)),i&&(i+=",");let n=this.assignIndexedValue(e.i,this.createFunction(["s"],this.createFunction(["b","c","p","d","e","t","f"],"(b=[],c=0,p=[],d=-1,e=!1,f="+this.createEffectfulFunction(["i","l"],"for(i=0,l=p.length;i<l;i++)p[i].s({done:!0,value:void 0})")+",s.on({next:"+this.createEffectfulFunction(["v","t"],"if(t=p.shift())t.s({done:!1,value:v});b.push(v)")+",throw:"+this.createEffectfulFunction(["v","t"],"if(t=p.shift())t.f(v);f(),d=b.length,e=!0,b.push(v)")+",return:"+this.createEffectfulFunction(["v","t"],"if(t=p.shift())t.s({done:!0,value:v});f(),d=b.length,b.push(v)")+"}),t={["+this.getRefParam(r.i)+"]:"+this.createFunction([],"t.p")+",next:"+this.createEffectfulFunction(["i","t","v"],"if(d===-1){return((i=c++)>=b.length)?("+this.getRefParam(t.i)+"(t={p:0,s:0,f:0}),p.push(t),t.p):{done:!1,value:b[i]}}if(c>d)return{done:!0,value:void 0};if(v=b[i=c++],i!==d)return{done:!1,value:v};if(e)throw v;return{done:!0,value:v}")+"})")));return i?i+n+")":n}serializeAsyncIteratorFactoryInstance(e){return this.getConstructor(e.a[0])+"("+this.serialize(e.a[1])+")"}serializeStreamConstructor(e){let t=this.assignIndexedValue(e.i,this.getConstructor(e.f)+"()"),r=e.a.length;if(r){let i=this.serialize(e.a[0]);for(let n=1;n<r;n++)i+=","+this.serialize(e.a[n]);return"("+t+","+i+","+this.getRefParam(e.i)+")"}return t}serializeStreamNext(e){return this.getRefParam(e.i)+".next("+this.serialize(e.f)+")"}serializeStreamThrow(e){return this.getRefParam(e.i)+".throw("+this.serialize(e.f)+")"}serializeStreamReturn(e){return this.getRefParam(e.i)+".return("+this.serialize(e.f)+")"}serialize(e){try{switch(e.t){case 2:return Dt[e.s];case 0:return""+e.s;case 1:return'"'+e.s+'"';case 3:return e.s+"n";case 4:return this.getRefParam(e.i);case 18:return this.serializeReference(e);case 9:return this.serializeArray(e);case 10:return this.serializeObject(e);case 11:return this.serializeNullConstructor(e);case 5:return this.serializeDate(e);case 6:return this.serializeRegExp(e);case 7:return this.serializeSet(e);case 8:return this.serializeMap(e);case 19:return this.serializeArrayBuffer(e);case 16:case 15:return this.serializeTypedArray(e);case 20:return this.serializeDataView(e);case 14:return this.serializeAggregateError(e);case 13:return this.serializeError(e);case 12:return this.serializePromise(e);case 17:return this.serializeWellKnownSymbol(e);case 21:return this.serializeBoxed(e);case 22:return this.serializePromiseConstructor(e);case 23:return this.serializePromiseResolve(e);case 24:return this.serializePromiseReject(e);case 25:return this.serializePlugin(e);case 26:return this.serializeSpecialReference(e);case 27:return this.serializeIteratorFactory(e);case 28:return this.serializeIteratorFactoryInstance(e);case 29:return this.serializeAsyncIteratorFactory(e);case 30:return this.serializeAsyncIteratorFactoryInstance(e);case 31:return this.serializeStreamConstructor(e);case 32:return this.serializeStreamNext(e);case 33:return this.serializeStreamThrow(e);case 34:return this.serializeStreamReturn(e);default:throw new Ye(e)}}catch(t){throw new mr(t)}}},Wr=class extends Br{constructor(e){super(e),this.mode="cross",this.scopeId=e.scopeId}getRefParam(e){return L+"["+e+"]"}assignIndexedValue(e,t){return this.getRefParam(e)+"="+t}serializeTop(e){let t=this.serialize(e),r=e.i;if(r==null)return t;let i=this.resolvePatches(),n=this.getRefParam(r),a=this.scopeId==null?"":L,o=i?"("+t+","+i+n+")":t;if(a==="")return e.t===10&&!i?"("+o+")":o;let l=this.scopeId==null?"()":"("+L+'["'+g(this.scopeId)+'"])';return"("+this.createFunction([a],o)+")"+l}},Hr=class extends Fr{parseItems(e){let t=[];for(let r=0,i=e.length;r<i;r++)r in e&&(t[r]=this.parse(e[r]));return t}parseArray(e,t){return sr(e,t,this.parseItems(t))}parseProperties(e){let t=Object.entries(e),r=[],i=[];for(let a=0,o=t.length;a<o;a++)r.push(g(t[a][0])),i.push(this.parse(t[a][1]));let n=Symbol.iterator;return n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(Ge(this.parseIteratorFactory(),this.parse(Ze(e))))),n=Symbol.asyncIterator,n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(Ke(this.parseAsyncIteratorFactory(),this.parse(N())))),n=Symbol.toStringTag,n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(X(e[n]))),n=Symbol.isConcatSpreadable,n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(e[n]?G:K)),{k:r,v:i,s:r.length}}parsePlainObject(e,t,r){return this.createObjectNode(e,t,r,this.parseProperties(t))}parseBoxed(e,t){return ir(e,this.parse(t.valueOf()))}parseTypedArray(e,t){return nr(e,t,this.parse(t.buffer))}parseBigIntTypedArray(e,t){return ar(e,t,this.parse(t.buffer))}parseDataView(e,t){return or(e,t,this.parse(t.buffer))}parseError(e,t){let r=we(t,this.features);return lr(e,t,r?this.parseProperties(r):s)}parseAggregateError(e,t){let r=we(t,this.features);return cr(e,t,r?this.parseProperties(r):s)}parseMap(e,t){let r=[],i=[];for(let[n,a]of t.entries())r.push(this.parse(n)),i.push(this.parse(a));return this.createMapNode(e,r,i,t.size)}parseSet(e,t){let r=[];for(let i of t.keys())r.push(this.parse(i));return ur(e,t.size,r)}parsePlugin(e,t){let r=this.plugins;if(r)for(let i=0,n=r.length;i<n;i++){let a=r[i];if(a.parse.sync&&a.test(t))return He(e,a.tag,a.parse.sync(t,this,{id:e}))}}parseStream(e,t){return Xe(e,this.parseSpecialReference(4),[])}parsePromise(e,t){return this.createPromiseConstructorNode(e,this.createIndex({}))}parseObject(e,t){if(Array.isArray(t))return this.parseArray(e,t);if(Er(t))return this.parseStream(e,t);let r=t.constructor;if(r===Sr)return this.parse(t.replacement);let i=this.parsePlugin(e,t);if(i)return i;switch(r){case Object:return this.parsePlainObject(e,t,!1);case void 0:return this.parsePlainObject(e,t,!0);case Date:return Zt(e,t);case RegExp:return Qt(e,t);case Error:case EvalError:case RangeError:case ReferenceError:case SyntaxError:case TypeError:case URIError:return this.parseError(e,t);case Number:case Boolean:case String:case BigInt:return this.parseBoxed(e,t);case ArrayBuffer:return er(e,t);case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint16Array:case Uint32Array:case Uint8ClampedArray:case Float32Array:case Float64Array:return this.parseTypedArray(e,t);case DataView:return this.parseDataView(e,t);case Map:return this.parseMap(e,t);case Set:return this.parseSet(e,t)}if(r===Promise||t instanceof Promise)return this.parsePromise(e,t);let n=this.features;if(n&16)switch(r){case BigInt64Array:case BigUint64Array:return this.parseBigIntTypedArray(e,t)}if(n&1&&typeof AggregateError<"u"&&(r===AggregateError||t instanceof AggregateError))return this.parseAggregateError(e,t);if(t instanceof Error)return this.parseError(e,t);if(Symbol.iterator in t||Symbol.asyncIterator in t)return this.parsePlainObject(e,t,!!r);throw new O(t)}parseFunction(e){let t=this.getReference(e);if(t.type!==0)return t.value;let r=this.parsePlugin(t.value,e);if(r)return r;throw new O(e)}parse(e){switch(typeof e){case"boolean":return e?G:K;case"undefined":return Ut;case"string":return X(e);case"number":return Xt(e);case"bigint":return Yt(e);case"object":{if(e){let t=this.getReference(e);return t.type===0?this.parseObject(t.value,e):t.value}return qt}case"symbol":return this.parseWellKnownSymbol(e);case"function":return this.parseFunction(e);default:throw new O(e)}}parseTop(e){try{return this.parse(e)}catch(t){throw t instanceof Se?t:new Se(t)}}},Gr=class extends Hr{constructor(e){super(e),this.alive=!0,this.pending=0,this.initial=!0,this.buffer=[],this.onParseCallback=e.onParse,this.onErrorCallback=e.onError,this.onDoneCallback=e.onDone}onParseInternal(e,t){try{this.onParseCallback(e,t)}catch(r){this.onError(r)}}flush(){for(let e=0,t=this.buffer.length;e<t;e++)this.onParseInternal(this.buffer[e],!1)}onParse(e){this.initial?this.buffer.push(e):this.onParseInternal(e,!1)}onError(e){if(this.onErrorCallback)this.onErrorCallback(e);else throw e}onDone(){this.onDoneCallback&&this.onDoneCallback()}pushPendingState(){this.pending++}popPendingState(){--this.pending<=0&&this.onDone()}parseProperties(e){let t=Object.entries(e),r=[],i=[];for(let a=0,o=t.length;a<o;a++)r.push(g(t[a][0])),i.push(this.parse(t[a][1]));let n=Symbol.iterator;return n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(Ge(this.parseIteratorFactory(),this.parse(Ze(e))))),n=Symbol.asyncIterator,n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(Ke(this.parseAsyncIteratorFactory(),this.parse(Pr(e))))),n=Symbol.toStringTag,n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(X(e[n]))),n=Symbol.isConcatSpreadable,n in e&&(r.push(this.parseWellKnownSymbol(n)),i.push(e[n]?G:K)),{k:r,v:i,s:r.length}}handlePromiseSuccess(e,t){let r=this.parseWithError(t);r&&this.onParse(h(23,e,s,s,s,s,s,s,[this.parseSpecialReference(2),r],s,s,s)),this.popPendingState()}handlePromiseFailure(e,t){if(this.alive){let r=this.parseWithError(t);r&&this.onParse(h(24,e,s,s,s,s,s,s,[this.parseSpecialReference(3),r],s,s,s))}this.popPendingState()}parsePromise(e,t){let r=this.createIndex({});return t.then(this.handlePromiseSuccess.bind(this,r),this.handlePromiseFailure.bind(this,r)),this.pushPendingState(),this.createPromiseConstructorNode(e,r)}parsePlugin(e,t){let r=this.plugins;if(r)for(let i=0,n=r.length;i<n;i++){let a=r[i];if(a.parse.stream&&a.test(t))return He(e,a.tag,a.parse.stream(t,this,{id:e}))}return s}parseStream(e,t){let r=Xe(e,this.parseSpecialReference(4),[]);return this.pushPendingState(),t.on({next:i=>{if(this.alive){let n=this.parseWithError(i);n&&this.onParse(pr(e,n))}},throw:i=>{if(this.alive){let n=this.parseWithError(i);n&&this.onParse(hr(e,n))}this.popPendingState()},return:i=>{if(this.alive){let n=this.parseWithError(i);n&&this.onParse(dr(e,n))}this.popPendingState()}}),r}parseWithError(e){try{return this.parse(e)}catch(t){return this.onError(t),s}}start(e){let t=this.parseWithError(e);t&&(this.onParseInternal(t,!0),this.initial=!1,this.flush(),this.pending<=0&&this.destroy())}destroy(){this.alive&&(this.onDone(),this.alive=!1)}isAlive(){return this.alive}},Kr=class extends Gr{constructor(){super(...arguments),this.mode="cross"}};function Xr(e,t){let r=Ue(t.plugins),i=new Kr({plugins:r,refs:t.refs,disabledFeatures:t.disabledFeatures,onParse(n,a){let o=new Wr({plugins:r,features:i.features,scopeId:t.scopeId,markedRefs:i.marked}),l;try{l=o.serializeTop(n)}catch(c){t.onError&&t.onError(c);return}t.onSerialize(l,a)},onError:t.onError,onDone:t.onDone});return i.start(e),i.destroy.bind(i)}var Yr=class extends Cr{constructor(t){super(t),this.mode="vanilla",this.marked=new Set(t.markedRefs)}assignIndexedValue(t,r){return this.marked.has(t)&&this.refs.set(t,r),r}};function Ae(e,t={}){let r=Ue(t.plugins);return new Yr({plugins:r,markedRefs:e.m}).deserializeTop(e.t)}function V(e){return{detail:e.detail,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var Jr={tag:"seroval-plugins/web/CustomEvent",test(e){return typeof CustomEvent>"u"?!1:e instanceof CustomEvent},parse:{sync(e,t){return{type:t.parse(e.type),options:t.parse(V(e))}},async async(e,t){return{type:await t.parse(e.type),options:await t.parse(V(e))}},stream(e,t){return{type:t.parse(e.type),options:t.parse(V(e))}}},serialize(e,t){return"new CustomEvent("+t.serialize(e.type)+","+t.serialize(e.options)+")"},deserialize(e,t){return new CustomEvent(t.deserialize(e.type),t.deserialize(e.options))}},J=Jr,Zr={tag:"seroval-plugins/web/DOMException",test(e){return typeof DOMException>"u"?!1:e instanceof DOMException},parse:{sync(e,t){return{name:t.parse(e.name),message:t.parse(e.message)}},async async(e,t){return{name:await t.parse(e.name),message:await t.parse(e.message)}},stream(e,t){return{name:t.parse(e.name),message:t.parse(e.message)}}},serialize(e,t){return"new DOMException("+t.serialize(e.message)+","+t.serialize(e.name)+")"},deserialize(e,t){return new DOMException(t.deserialize(e.message),t.deserialize(e.name))}},Z=Zr;function U(e){return{bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed}}var Qr={tag:"seroval-plugins/web/Event",test(e){return typeof Event>"u"?!1:e instanceof Event},parse:{sync(e,t){return{type:t.parse(e.type),options:t.parse(U(e))}},async async(e,t){return{type:await t.parse(e.type),options:await t.parse(U(e))}},stream(e,t){return{type:t.parse(e.type),options:t.parse(U(e))}}},serialize(e,t){return"new Event("+t.serialize(e.type)+","+t.serialize(e.options)+")"},deserialize(e,t){return new Event(t.deserialize(e.type),t.deserialize(e.options))}},Q=Qr,es={tag:"seroval-plugins/web/File",test(e){return typeof File>"u"?!1:e instanceof File},parse:{async async(e,t){return{name:await t.parse(e.name),options:await t.parse({type:e.type,lastModified:e.lastModified}),buffer:await t.parse(await e.arrayBuffer())}}},serialize(e,t){return"new File(["+t.serialize(e.buffer)+"],"+t.serialize(e.name)+","+t.serialize(e.options)+")"},deserialize(e,t){return new File([t.deserialize(e.buffer)],t.deserialize(e.name),t.deserialize(e.options))}},ts=es;function q(e){let t=[];return e.forEach((r,i)=>{t.push([i,r])}),t}var k={},rs={tag:"seroval-plugins/web/FormDataFactory",test(e){return e===k},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,t){return t.createEffectfulFunction(["e","f","i","s","t"],"f=new FormData;for(i=0,s=e.length;i<s;i++)f.append((t=e[i])[0],t[1]);return f")},deserialize(){return k}},ss={tag:"seroval-plugins/web/FormData",extends:[ts,rs],test(e){return typeof FormData>"u"?!1:e instanceof FormData},parse:{sync(e,t){return{factory:t.parse(k),entries:t.parse(q(e))}},async async(e,t){return{factory:await t.parse(k),entries:await t.parse(q(e))}},stream(e,t){return{factory:t.parse(k),entries:t.parse(q(e))}}},serialize(e,t){return"("+t.serialize(e.factory)+")("+t.serialize(e.entries)+")"},deserialize(e,t){let r=new FormData,i=t.deserialize(e.entries);for(let n=0,a=i.length;n<a;n++){let o=i[n];r.append(o[0],o[1])}return r}},ee=ss;function B(e){let t=[];return e.forEach((r,i)=>{t.push([i,r])}),t}var is={tag:"seroval-plugins/web/Headers",test(e){return typeof Headers>"u"?!1:e instanceof Headers},parse:{sync(e,t){return t.parse(B(e))},async async(e,t){return await t.parse(B(e))},stream(e,t){return t.parse(B(e))}},serialize(e,t){return"new Headers("+t.serialize(e)+")"},deserialize(e,t){return new Headers(t.deserialize(e))}},P=is,E={},ns={tag:"seroval-plugins/web/ReadableStreamFactory",test(e){return e===E},parse:{sync(){},async async(){return await Promise.resolve(void 0)},stream(){}},serialize(e,t){return t.createFunction(["d"],"new ReadableStream({start:"+t.createEffectfulFunction(["c"],"d.on({next:"+t.createEffectfulFunction(["v"],"try{c.enqueue(v)}catch{}")+",throw:"+t.createEffectfulFunction(["v"],"c.error(v)")+",return:"+t.createEffectfulFunction([],"try{c.close()}catch{}")+"})")+"})")},deserialize(){return E}};function xe(e){let t=N(),r=e.getReader();async function i(){try{let n=await r.read();n.done?t.return(n.value):(t.next(n.value),await i())}catch(n){t.throw(n)}}return i().catch(()=>{}),t}var as={tag:"seroval/plugins/web/ReadableStream",extends:[ns],test(e){return typeof ReadableStream>"u"?!1:e instanceof ReadableStream},parse:{sync(e,t){return{factory:t.parse(E),stream:t.parse(N())}},async async(e,t){return{factory:await t.parse(E),stream:await t.parse(xe(e))}},stream(e,t){return{factory:t.parse(E),stream:t.parse(xe(e))}}},serialize(e,t){return"("+t.serialize(e.factory)+")("+t.serialize(e.stream)+")"},deserialize(e,t){let r=t.deserialize(e.stream);return new ReadableStream({start(i){r.on({next(n){try{i.enqueue(n)}catch{}},throw(n){i.error(n)},return(){try{i.close()}catch{}}})}})}},$=as;function Re(e,t){return{body:t,cache:e.cache,credentials:e.credentials,headers:e.headers,integrity:e.integrity,keepalive:e.keepalive,method:e.method,mode:e.mode,redirect:e.redirect,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var os={tag:"seroval-plugins/web/Request",extends:[$,P],test(e){return typeof Request>"u"?!1:e instanceof Request},parse:{async async(e,t){return{url:await t.parse(e.url),options:await t.parse(Re(e,e.body?await e.clone().arrayBuffer():null))}},stream(e,t){return{url:t.parse(e.url),options:t.parse(Re(e,e.clone().body))}}},serialize(e,t){return"new Request("+t.serialize(e.url)+","+t.serialize(e.options)+")"},deserialize(e,t){return new Request(t.deserialize(e.url),t.deserialize(e.options))}},te=os;function Ie(e){return{headers:e.headers,status:e.status,statusText:e.statusText}}var ls={tag:"seroval-plugins/web/Response",extends:[$,P],test(e){return typeof Response>"u"?!1:e instanceof Response},parse:{async async(e,t){return{body:await t.parse(e.body?await e.clone().arrayBuffer():null),options:await t.parse(Ie(e))}},stream(e,t){return{body:t.parse(e.clone().body),options:t.parse(Ie(e))}}},serialize(e,t){return"new Response("+t.serialize(e.body)+","+t.serialize(e.options)+")"},deserialize(e,t){return new Response(t.deserialize(e.body),t.deserialize(e.options))}},re=ls,cs={tag:"seroval-plugins/web/URL",test(e){return typeof URL>"u"?!1:e instanceof URL},parse:{sync(e,t){return t.parse(e.href)},async async(e,t){return await t.parse(e.href)},stream(e,t){return t.parse(e.href)}},serialize(e,t){return"new URL("+t.serialize(e)+")"},deserialize(e,t){return new URL(t.deserialize(e))}},se=cs,us={tag:"seroval-plugins/web/URLSearchParams",test(e){return typeof URLSearchParams>"u"?!1:e instanceof URLSearchParams},parse:{sync(e,t){return t.parse(e.toString())},async async(e,t){return await t.parse(e.toString())},stream(e,t){return t.parse(e.toString())}},serialize(e,t){return"new URLSearchParams("+t.serialize(e)+")"},deserialize(e,t){return new URLSearchParams(t.deserialize(e))}},ie=us;const W="Invariant Violation",{setPrototypeOf:ps=function(e,t){return e.__proto__=t,e}}=Object;class pe extends Error{framesToPop=1;name=W;constructor(t=W){super(typeof t=="number"?`${W}: ${t} (see https://github.com/apollographql/invariant-packages)`:t),ps(this,pe.prototype)}}function hs(e,t){if(!e)throw new pe(t)}const _={NORMAL:0,WILDCARD:1,PLACEHOLDER:2};function ds(e={}){const t={options:e,rootNode:Qe(),staticRoutesMap:{}},r=i=>e.strictTrailingSlash?i:i.replace(/\/$/,"")||"/";if(e.routes)for(const i in e.routes)ke(t,r(i),e.routes[i]);return{ctx:t,lookup:i=>fs(t,r(i)),insert:(i,n)=>ke(t,r(i),n),remove:i=>ms(t,r(i))}}function fs(e,t){const r=e.staticRoutesMap[t];if(r)return r.data;const i=t.split("/"),n={};let a=!1,o=null,l=e.rootNode,c=null;for(let u=0;u<i.length;u++){const d=i[u];l.wildcardChildNode!==null&&(o=l.wildcardChildNode,c=i.slice(u).join("/"));const m=l.children.get(d);if(m===void 0){if(l&&l.placeholderChildren.length>1){const b=i.length-u;l=l.placeholderChildren.find(p=>p.maxDepth===b)||null}else l=l.placeholderChildren[0]||null;if(!l)break;l.paramName&&(n[l.paramName]=d),a=!0}else l=m}return(l===null||l.data===null)&&o!==null&&(l=o,n[l.paramName||"_"]=c,a=!0),l?a?{...l.data,params:a?n:void 0}:l.data:null}function ke(e,t,r){let i=!0;const n=t.split("/");let a=e.rootNode,o=0;const l=[a];for(const c of n){let u;if(u=a.children.get(c))a=u;else{const d=gs(c);u=Qe({type:d,parent:a}),a.children.set(c,u),d===_.PLACEHOLDER?(u.paramName=c==="*"?`_${o++}`:c.slice(1),a.placeholderChildren.push(u),i=!1):d===_.WILDCARD&&(a.wildcardChildNode=u,u.paramName=c.slice(3)||"_",i=!1),l.push(u),a=u}}for(const[c,u]of l.entries())u.maxDepth=Math.max(l.length-c,u.maxDepth||0);return a.data=r,i===!0&&(e.staticRoutesMap[t]=a),a}function ms(e,t){let r=!1;const i=t.split("/");let n=e.rootNode;for(const a of i)if(n=n.children.get(a),!n)return r;if(n.data){const a=i.at(-1)||"";n.data=null,Object.keys(n.children).length===0&&n.parent&&(n.parent.children.delete(a),n.parent.wildcardChildNode=null,n.parent.placeholderChildren=[]),r=!0}return r}function Qe(e={}){return{type:e.type||_.NORMAL,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function gs(e){return e.startsWith("**")?_.WILDCARD:e[0]===":"||e==="*"?_.PLACEHOLDER:_.NORMAL}const ys={preload:()=>oe()},bs={preload:()=>{oe(),ae(),bt()}},ws={preload:({params:e})=>{oe(),wt(Number(e.id)),St(Number(e.id))}},Ss={preload:({params:e})=>{ae(),vt(Number(e.id)),zt(Number(e.id)),_t(Number(e.id))}},vs={preload:()=>Oe()},zs={load(){Oe()}},_s={preload:({params:e})=>yt(e.code)},As={preload:()=>ae()},et=[{page:!0,$component:{src:"src/routes/(root)/account.tsx?pick=default&pick=$css",build:()=>import("../account.js"),import:()=>import("../account.js")},$$route:{require:()=>({route:ys}),src:"src/routes/(root)/account.tsx?pick=route"},path:"/(root)/account",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/account.tsx"},{page:!0,$component:{src:"src/routes/(root)/email-verified.jsx?pick=default&pick=$css",build:()=>import("../email-verified.js"),import:()=>import("../email-verified.js")},path:"/(root)/email-verified",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/email-verified.jsx"},{page:!0,$component:{src:"src/routes/(root)/expired.tsx?pick=default&pick=$css",build:()=>import("../expired.js"),import:()=>import("../expired.js")},path:"/(root)/expired",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/expired.tsx"},{page:!0,$component:{src:"src/routes/(root)/forgot-password.tsx?pick=default&pick=$css",build:()=>import("../forgot-password.js"),import:()=>import("../forgot-password.js")},path:"/(root)/forgot-password",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/forgot-password.tsx"},{page:!0,$component:{src:"src/routes/(root)/getting-started.tsx?pick=default&pick=$css",build:()=>import("../getting-started.js"),import:()=>import("../getting-started.js")},path:"/(root)/getting-started",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/getting-started.tsx"},{page:!0,$component:{src:"src/routes/(root)/index.tsx?pick=default&pick=$css",build:()=>import("../index.js"),import:()=>import("../index.js")},path:"/(root)/",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/index.tsx"},{page:!0,$component:{src:"src/routes/(root)/lists/[...lists].tsx?pick=default&pick=$css",build:()=>import("../_...lists_.js"),import:()=>import("../_...lists_.js")},$$route:{require:()=>({route:bs}),src:"src/routes/(root)/lists/[...lists].tsx?pick=route"},path:"/(root)/lists/*lists",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/lists/[...lists].tsx"},{page:!0,$component:{src:"src/routes/(root)/lists/[id].tsx?pick=default&pick=$css",build:()=>import("../_id_.js"),import:()=>import("../_id_.js")},$$route:{require:()=>({route:ws}),src:"src/routes/(root)/lists/[id].tsx?pick=route"},path:"/(root)/lists/:id",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/lists/[id].tsx"},{page:!0,$component:{src:"src/routes/(root)/locations/[id].tsx?pick=default&pick=$css",build:()=>import("../_id_2.js"),import:()=>import("../_id_2.js")},$$route:{require:()=>({route:Ss}),src:"src/routes/(root)/locations/[id].tsx?pick=route"},path:"/(root)/locations/:id",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/locations/[id].tsx"},{page:!0,$component:{src:"src/routes/(root)/login.tsx?pick=default&pick=$css",build:()=>import("../login.js"),import:()=>import("../login.js")},$$route:{require:()=>({route:vs}),src:"src/routes/(root)/login.tsx?pick=route"},path:"/(root)/login",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/login.tsx"},{page:!0,$component:{src:"src/routes/(root)/new-password.tsx?pick=default&pick=$css",build:()=>import("../new-password.js"),import:()=>import("../new-password.js")},path:"/(root)/new-password",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/new-password.tsx"},{page:!0,$component:{src:"src/routes/(root)/password-email.tsx?pick=default&pick=$css",build:()=>import("../password-email.js"),import:()=>import("../password-email.js")},path:"/(root)/password-email",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/password-email.tsx"},{page:!0,$component:{src:"src/routes/(root)/register.tsx?pick=default&pick=$css",build:()=>import("../register.js"),import:()=>import("../register.js")},$$route:{require:()=>({route:zs}),src:"src/routes/(root)/register.tsx?pick=route"},path:"/(root)/register",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/register.tsx"},{page:!0,$component:{src:"src/routes/(root)/verify/[code].tsx?pick=default&pick=$css",build:()=>import("../_code_.js"),import:()=>import("../_code_.js")},$$route:{require:()=>({route:_s}),src:"src/routes/(root)/verify/[code].tsx?pick=route"},path:"/(root)/verify/:code",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/verify/[code].tsx"},{page:!0,$component:{src:"src/routes/(root)/verify-email.jsx?pick=default&pick=$css",build:()=>import("../verify-email.js"),import:()=>import("../verify-email.js")},path:"/(root)/verify-email",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root)/verify-email.jsx"},{page:!0,$component:{src:"src/routes/(root).tsx?pick=default&pick=$css",build:()=>import("../(root).js"),import:()=>import("../(root).js")},$$route:{require:()=>({route:As}),src:"src/routes/(root).tsx?pick=route"},path:"/(root)",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/(root).tsx"},{page:!0,$component:{src:"src/routes/[...404].jsx?pick=default&pick=$css",build:()=>import("../_...404_.js"),import:()=>import("../_...404_.js")},path:"/*404",filePath:"C:/Users/MARIAM/Desktop/AirSense/AirSense/src/routes/[...404].jsx"}],xs=Rs(et.filter(e=>e.page));function Rs(e){function t(r,i,n,a){const o=Object.values(r).find(l=>n.startsWith(l.id+"/"));return o?(t(o.children||(o.children=[]),i,n.slice(o.id.length)),r):(r.push({...i,id:n,path:n.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/")}),r)}return e.sort((r,i)=>r.path.length-i.path.length).reduce((r,i)=>t(r,i,i.path,i.path),[])}function Is(e){return e.$HEAD||e.$GET||e.$POST||e.$PUT||e.$PATCH||e.$DELETE}ds({routes:et.reduce((e,t)=>{if(!Is(t))return e;let r=t.path.replace(/\([^)/]+\)/g,"").replace(/\/+/g,"/").replace(/\*([^/]*)/g,(i,n)=>`**:${n}`).split("/").map(i=>i.startsWith(":")||i.startsWith("*")?i:encodeURIComponent(i)).join("/");if(/:[^/]*\?/g.test(r))throw new Error(`Optional parameters are not supported in API routes: ${r}`);if(e[r])throw new Error(`Duplicate API routes for "${r}" found at "${e[r].route.path}" and "${t.path}"`);return e[r]={route:t},e},{})});function ks(e){e.forEach(t=>{if(!t.attrs.href)return;let r=document.head.querySelector(`link[href="${t.attrs.href}"]`);r||(r=document.createElement("link"),r.setAttribute("rel","preload"),r.setAttribute("as","style"),r.setAttribute("href",t.attrs.href),document.head.appendChild(r))})}var Es=" ";const Ps={style:e=>C("style",e.attrs,()=>e.children,!0),link:e=>C("link",e.attrs,void 0,!0),script:e=>e.attrs.src?C("script",ht(()=>e.attrs,{get id(){return e.key}}),()=>dt(Es),!0):null,noscript:e=>C("noscript",e.attrs,()=>pt(e.children),!0)};function $s(e,t){let{tag:r,attrs:{key:i,...n}={key:void 0},children:a}=e;return Ps[r]({attrs:{...n,nonce:t},key:i,children:a})}function Ns(e,t,r,i="default"){return ct(async()=>{{const a=(await e.import())[i],l=(await t.inputs?.[e.src].assets()).filter(u=>u.tag==="style"||u.attrs.rel==="stylesheet");return typeof window<"u"&&ks(l),{default:u=>[...l.map(d=>$s(d)),ut(a,u)]}}})}function tt(){function e(r){return{...r,...r.$$route?r.$$route.require().route:void 0,info:{...r.$$route?r.$$route.require().route.info:{},filesystem:!0},component:r.$component&&Ns(r.$component,globalThis.MANIFEST.client,globalThis.MANIFEST.ssr),children:r.children?r.children.map(e):void 0}}return xs.map(e)}let Ee;const pi=mt?()=>ft().routes:()=>Ee||(Ee=tt());function Fs(e){const t=nt(e.nativeEvent,"flash");if(t)try{let r=JSON.parse(t);if(!r||!r.result)return;const i=[...r.input.slice(0,-1),new Map(r.input[r.input.length-1])],n=r.error?new Error(r.result):r.result;return{input:i,url:r.url,pending:!1,result:r.thrown?void 0:n,error:r.thrown?n:void 0}}catch(r){console.error(r)}finally{at(e.nativeEvent,"flash","",{maxAge:0})}}async function Ms(e){const t=globalThis.MANIFEST.client;return globalThis.MANIFEST.ssr,e.response.headers.set("Content-Type","text/html"),Object.assign(e,{manifest:await t.json(),assets:[...await t.inputs[t.handler].assets()],router:{submission:Fs(e)},routes:tt(),complete:!1,$islands:new Set})}const Cs=new Set([301,302,303,307,308]);function Ts(e){return e.status&&Cs.has(e.status)?e.status:302}const Ls={"src_auth_user_ts--redirectIfLoggedIn_query":{functionName:"redirectIfLoggedIn_query",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--getLoggedInUser_query":{functionName:"getLoggedInUser_query",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--register_action":{functionName:"register_action",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--login_action":{functionName:"login_action",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--logout_action":{functionName:"logout_action",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--sendVerificationEmail_1":{functionName:"sendVerificationEmail_1",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--registerToken_1":{functionName:"registerToken_1",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--verifyEmail_query":{functionName:"verifyEmail_query",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--resendVerificationEmail_action":{functionName:"resendVerificationEmail_action",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--forgotPasswordLink_action":{functionName:"forgotPasswordLink_action",importer:()=>import("./user-BdSYML7M.js")},"src_auth_user_ts--forgotPassword_action":{functionName:"forgotPassword_action",importer:()=>import("./user-BdSYML7M.js")},"src_db_lists_ts--getUserLists_query":{functionName:"getUserLists_query",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--getList_query":{functionName:"getList_query",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--listLocations_query":{functionName:"listLocations_query",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--sensorNodeLists_query":{functionName:"sensorNodeLists_query",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--createList_action":{functionName:"createList_action",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--updateList_action":{functionName:"updateList_action",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--deleteList_action":{functionName:"deleteList_action",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--getLocationById_query":{functionName:"getLocationById_query",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--removeSensorNodesList_action":{functionName:"removeSensorNodesList_action",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--addRemoveSensorNodesList_action":{functionName:"addRemoveSensorNodesList_action",importer:()=>import("./lists-CIT8o9CA.js")},"src_db_lists_ts--deleteListLocation_action":{functionName:"deleteListLocation_action",importer:()=>import("./lists-CIT8o9CA.js")},"src_auth_session_ts--getSession_1":{functionName:"getSession_1",importer:()=>import("./session-CQFvP44J.js")},"src_auth_session_ts--getSessionUser_query":{functionName:"getSessionUser_query",importer:()=>import("./session-CQFvP44J.js")},"src_auth_session_ts--setSession_1":{functionName:"setSession_1",importer:()=>import("./session-CQFvP44J.js")},"src_auth_session_ts--clearSession_1":{functionName:"clearSession_1",importer:()=>import("./session-CQFvP44J.js")},"src_client_index_tsx--fetchLocation_1":{functionName:"fetchLocation_1",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--fetchSensorMeasurementsDownload_1":{functionName:"fetchSensorMeasurementsDownload_1",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--fetchSensorMeasurements_1":{functionName:"fetchSensorMeasurements_1",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--fetchSensorTrends_1":{functionName:"fetchSensorTrends_1",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--fetchProviders_1":{functionName:"fetchProviders_1",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getSensorMeasurements_GET":{functionName:"getSensorMeasurements_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getSensorMeasurementsDownload_GET":{functionName:"getSensorMeasurementsDownload_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getSensorRecentMeasurements_GET":{functionName:"getSensorRecentMeasurements_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getLocationRecentMeasurements_GET":{functionName:"getLocationRecentMeasurements_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getSensorTrends_GET":{functionName:"getSensorTrends_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getLocation_GET":{functionName:"getLocation_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getProviders_GET":{functionName:"getProviders_GET",importer:()=>import("./index-CwbHSB6y.js")},"src_client_index_tsx--getLocationLicenses_query":{functionName:"getLocationLicenses_query",importer:()=>import("./index-CwbHSB6y.js")},"src_lib_password_ts--validatePassword_1":{functionName:"validatePassword_1",importer:()=>import("./password-Fi9vHXSI.js")},"src_db_account_ts--changePassword_action":{functionName:"changePassword_action",importer:()=>import("./account-BEQaGol1.js")},"src_db_account_ts--regenerateKey_action":{functionName:"regenerateKey_action",importer:()=>import("./account-BEQaGol1.js")}};function Os(e){const t=new TextEncoder().encode(e),r=t.length,i=r.toString(16),n="00000000".substring(0,8-i.length)+i,a=new TextEncoder().encode(`;0x${n};`),o=new Uint8Array(12+r);return o.set(a),o.set(t,12),o}function Pe(e,t){return new ReadableStream({start(r){Xr(t,{scopeId:e,plugins:[J,Z,Q,ee,P,$,te,re,ie,se],onSerialize(i,n){r.enqueue(Os(n?`(${Ft(e)},${i})`:i))},onDone(){r.close()},onError(i){r.error(i)}})}})}async function Ds(e){const t=ne(e),r=t.request,i=r.headers.get("X-Server-Id"),n=r.headers.get("X-Server-Instance"),a=r.headers.has("X-Single-Flight"),o=new URL(r.url);let l,c;if(i)hs(typeof i=="string","Invalid server function"),[l,c]=i.split("#");else if(l=o.searchParams.get("id"),c=o.searchParams.get("name"),!l||!c)return new Response(null,{status:404});const u=Ls[l];let d;if(!u)return new Response(null,{status:404});d=await u.importer();const m=d[u.functionName];let b=[];if(!n||e.method==="GET"){const p=o.searchParams.get("args");if(p){const f=JSON.parse(p);(f.t?Ae(f,{plugins:[J,Z,Q,ee,P,$,te,re,ie,se]}):f).forEach(F=>b.push(F))}}if(e.method==="POST"){const p=r.headers.get("content-type"),f=e.node.req,F=f instanceof ReadableStream,rt=f.body instanceof ReadableStream,he=F&&f.locked||rt&&f.body.locked,de=F?f:f.body;if(p?.startsWith("multipart/form-data")||p?.startsWith("application/x-www-form-urlencoded"))b.push(await(he?r:new Request(r,{...r,body:de})).formData());else if(p?.startsWith("application/json")){const st=he?r:new Request(r,{...r,body:de});b=Ae(await st.json(),{plugins:[J,Z,Q,ee,P,$,te,re,ie,se]})}}try{let p=await Te(t,async()=>(Ce.context={event:t},t.locals.serverFunctionMeta={id:l+"#"+c},m(...b)));if(a&&n&&(p=await Ne(t,p)),p instanceof Response){if(p.headers&&p.headers.has("X-Content-Raw"))return p;n&&(p.headers&&fe(e,p.headers),p.status&&(p.status<300||p.status>=400)&&me(e,p.status),p.customBody?p=await p.customBody():p.body==null&&(p=null))}return n?(M(e,"content-type","text/javascript"),Pe(n,p)):$e(p,r,b)}catch(p){if(p instanceof Response)a&&n&&(p=await Ne(t,p)),p.headers&&fe(e,p.headers),p.status&&(!n||p.status<300||p.status>=400)&&me(e,p.status),p.customBody?p=p.customBody():p.body==null&&(p=null),M(e,"X-Error","true");else if(n){const f=p instanceof Error?p.message:typeof p=="string"?p:"true";M(e,"X-Error",f.replace(/[\r\n]+/g,""))}else p=$e(p,r,b,!0);return n?(M(e,"content-type","text/javascript"),Pe(n,p)):p}}function $e(e,t,r,i){const n=new URL(t.url),a=e instanceof Error;let o=302,l;return e instanceof Response?(l=new Headers(e.headers),e.headers.has("Location")&&(l.set("Location",new URL(e.headers.get("Location"),n.origin+"").toString()),o=Ts(e))):l=new Headers({Location:new URL(t.headers.get("referer")).toString()}),e&&l.append("Set-Cookie",`flash=${encodeURIComponent(JSON.stringify({url:n.pathname+n.search,result:a?e.message:e,thrown:i,error:a,input:[...r.slice(0,-1),[...r[r.length-1].entries()]]}))}; Secure; HttpOnly;`),new Response(null,{status:o,headers:l})}let H;function js(e){const t=new Headers(e.request.headers),r=lt(e.nativeEvent),i=e.response.headers.getSetCookie();t.delete("cookie");let n=!1;return e.nativeEvent.node?.req&&(n=!0,e.nativeEvent.node.req.headers.cookie=""),i.forEach(a=>{if(!a)return;const{maxAge:o,expires:l,name:c,value:u}=kt(a);if(o!=null&&o<=0){delete r[c];return}if(l!=null&&l.getTime()<=Date.now()){delete r[c];return}r[c]=u}),Object.entries(r).forEach(([a,o])=>{t.append("cookie",`${a}=${o}`),n&&(e.nativeEvent.node.req.headers.cookie+=`${a}=${o};`)}),t}async function Ne(e,t){let r,i=new URL(e.request.headers.get("referer")).toString();t instanceof Response&&(t.headers.has("X-Revalidate")&&(r=t.headers.get("X-Revalidate").split(",")),t.headers.has("Location")&&(i=new URL(t.headers.get("Location"),new URL(e.request.url).origin+"").toString()));const n=ot(e);return n.request=new Request(i,{headers:js(e)}),await Te(n,async()=>{await Ms(n),H||(H=(await import("./app-Cy7TjW0H.js")).default),n.router.dataOnly=r||!0,n.router.previousUrl=e.request.headers.get("referer");try{gt(()=>{Ce.context.event=n,H()})}catch(l){console.log(l)}const a=n.router.data;if(!a)return t;let o=!1;for(const l in a)a[l]===void 0?delete a[l]:o=!0;return o&&(t instanceof Response?t.customBody&&(a._$value=t.customBody()):(a._$value=t,t=new Response(null,{status:200})),t.customBody=()=>a,t.headers.set("X-Single-Flight","true")),t})}const Fe=Le(Ds),hi=Le({onRequest:be.onRequest,onBeforeResponse:be.onBeforeResponse,handler:Fe,websocket:Fe.__websocket__});export{pi as F,hi as s};
